import C from"./NotFound-318e5610.js";import{a as V,o as d,c as m,d as t,J as w,n as h,K as g,i as f,t as r,b as u,w as S,H as k,p as x,k as L,h as $,e as N,u as B,f as F,g as v,T as E}from"./index-42d548a4.js";import{_ as y}from"./CoachWrapperHeader-e71b663c.js";import"./CoachAvatar-5a218491.js";const q={name:"SendIcon"},M={width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},R=t("path",{d:"M10 14L12.2728 19.3032C12.5856 20.0331 13.5586 20.1103 13.9486 19.4185C14.7183 18.0535 15.8591 15.8522 17 13C19 8 20 4 20 4C20 4 16 5 11 7C8.14784 8.14086 5.94647 9.28173 4.58149 10.0514C3.88975 10.4414 3.96687 11.4144 4.69678 11.7272L10 14Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),T=[R];function Y(e,a,s,o,l,i){return d(),m("svg",M,T)}const b=V(q,[["render",Y]]),H={name:"CoachContactForm",emits:["send"],data:()=>({name:{data:"",isValid:!0,maxLen:32},email:{data:"",isValid:!0,maxLen:254},message:{data:"",isValid:!0,maxLen:128},formIsValid:!1}),computed:{inputName(){return this.name.data},inputEmail(){return this.email.data},inputMessage(){return this.message.data}},methods:{nameValidation(){const{name:e}=this;e.data.length>e.maxLen||!e.data.length?this.name.isValid=!1:this.name.isValid=!0},emailValidation(){const{email:e}=this;!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/gi.test(e.data)||e.data.length>e.maxLen?this.email.isValid=!1:this.email.isValid=!0},messageValidation(){const{message:e}=this;e.data.length>e.maxLen?this.message.isValid=!1:this.message.isValid=!0},inputsValidation(){const{name:e,email:a,message:s,nameValidation:o,emailValidation:l,messageValidation:i}=this;o(),l(),i(),!e.isValid||!a.isValid||!s.isValid?this.formIsValid=!1:this.formIsValid=!0},emitEvent(){if(this.inputsValidation(),!this.formIsValid)return;const{name:e,email:a,message:s}=this,o={name:e.data,email:a.data,message:s.data};this.$emit("send",o)}},watch:{inputName(){this.nameValidation()},inputMessage(){this.messageValidation()}},components:{BaseSubmitButton:w,SendIcon:b}};const c=e=>(x("data-v-b21da32b"),e=e(),L(),e),U=c(()=>t("span",{class:"section-title"},"Contact:",-1)),D={class:"input-wrapper"},W=c(()=>t("label",{type:"text",for:"name"},[$("Your name"),t("sup",null,"*")],-1)),j={class:"validation"},A={key:0,class:"invalid"},J={class:"counter"},K={class:"input-wrapper"},Z=c(()=>t("label",{type:"email",for:"email"},[$("E-mail"),t("sup",null,"*")],-1)),z={class:"validation"},G={key:0,class:"invalid"},O={class:"counter"},P={class:"input-wrapper"},Q=c(()=>t("label",{type:"text",for:"message"},"Message",-1)),X={class:"validation"},ee={key:0,class:"invalid"},ae={class:"counter"},te={class:"buttons"},se=c(()=>t("span",null,"Send",-1));function ne(e,a,s,o,l,i){const p=b,_=w;return d(),m("form",{class:"form",onSubmit:a[4]||(a[4]=k((...n)=>i.emitEvent&&i.emitEvent(...n),["prevent"])),novalidate:""},[U,t("div",D,[h(t("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=n=>e.name.data=n),required:""},null,512),[[g,e.name.data]]),W,t("div",j,[e.name.isValid?f("",!0):(d(),m("span",A,"Your name is invalid!")),t("span",J,r(e.name.data.length)+"/"+r(e.name.maxLen),1)])]),t("div",K,[h(t("input",{id:"email","onUpdate:modelValue":a[1]||(a[1]=n=>e.email.data=n),onBlur:a[2]||(a[2]=(...n)=>i.emailValidation&&i.emailValidation(...n)),required:""},null,544),[[g,e.email.data]]),Z,t("div",z,[e.email.isValid?f("",!0):(d(),m("span",G,"Your e-mail is invalid!")),t("span",O,r(e.email.data.length)+"/"+r(e.email.maxLen),1)])]),t("div",P,[h(t("textarea",{id:"message","onUpdate:modelValue":a[3]||(a[3]=n=>e.message.data=n),rows:"3",required:""},null,512),[[g,e.message.data]]),Q,t("div",X,[e.message.isValid?f("",!0):(d(),m("span",ee,"Your message is too long!")),t("span",ae,r(e.message.data.length)+"/"+r(e.message.maxLen),1)])]),t("div",te,[u(_,{isValid:e.formIsValid},{default:S(()=>[se,u(p)]),_:1},8,["isValid"])])],32)}const I=V(H,[["render",ne],["__scopeId","data-v-b21da32b"]]),ie={name:"CoachContact",props:{id:{type:String,required:!0}},setup(){return{coachesStore:N()}},data:()=>({}),methods:{async sendRequest(e){console.log(e)}},computed:{coach(){return this.coachesStore.getCoach(this.id)},isFound(){return!!this.coach},fullName(){var e,a;return`${(e=this.coach)==null?void 0:e.firstName} ${(a=this.coach)==null?void 0:a.lastName}`}},async beforeRouteEnter(e,a,s){const o=B(),l=F();if(await o.fetchReviews(e.params.id),l.userId===e.params.id){s({name:"no-permissions"});return}s()},components:{NotFound:C,CoachContactForm:I,CoachWrapperHeader:y}};const oe={key:0,class:"coach-contact"};function de(e,a,s,o,l,i){const p=y,_=I,n=C;return d(),v(E,{mode:"out-in",name:"component-state"},{default:S(()=>[i.isFound?(d(),m("div",oe,[u(p,{id:s.id},null,8,["id"]),u(_,{onSend:i.sendRequest},null,8,["onSend"])])):(d(),v(n,{key:1,element:"Coach"}))]),_:1})}const ue=V(ie,[["render",de],["__scopeId","data-v-02e35ca6"]]);export{ue as default};
