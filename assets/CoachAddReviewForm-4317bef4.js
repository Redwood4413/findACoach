import{N as _,a as h,o as n,c as d,d as e,t as r,F as y,r as C,b as p,I as R,p as m,k as f,e as $,J as v,n as I,K as x,i as u,H as S,h as B}from"./index-42d548a4.js";const M={name:"CoachAddReviewFormRate",emits:["change"],props:{rate:{type:Number,required:!0},max:{type:Number,required:!0}},methods:{emitRate(t){this.$emit("change",t)},filledClass(t){return this.rate>t-1?"filled":""}},components:{BaseButton:_}};const k=t=>(m("data-v-05c9445c"),t=t(),f(),t),F={class:"rate"},N={class:"wrapper"},A=k(()=>e("label",{type:"text",for:"rate"},"Rate:",-1)),D={class:"info"},q={class:"buttons",id:"rate"};function L(t,s,a,w,b,i){const l=_;return n(),d("div",F,[e("div",N,[A,e("span",D,r(a.rate)+"/"+r(a.max),1)]),e("ul",q,[(n(!0),d(y,null,C(a.max,o=>(n(),d("li",{class:"item",key:o},[p(l,{title:`${o}/${a.max}`,onClick:c=>i.emitRate(o),class:R(`flat ${i.filledClass(o)}`)},null,8,["title","onClick","class"])]))),128))])])}const V=h(M,[["render",L],["__scopeId","data-v-05c9445c"]]),Y={name:"CoachAddReviewForm",emits:["add-review"],setup(){return{coachesStore:$()}},props:{state:{type:String,required:!0},review:{type:Object,default(){return null}}},mounted(){this.setInputs()},data:()=>({description:{data:"",isValid:!0,maxLen:600,errorMsg:""},rate:{data:0,isValid:!0,max:5,errorMsg:""},formIsValid:!0}),methods:{submitData(){this.descriptionValidation(),this.rateValidation();const{description:t,rate:s}=this;if(!t.isValid||!s.isValid?this.formIsValid=!1:this.formIsValid=!0,!this.formIsValid)return;const a={description:t.data,rate:s.data};this.$emit("add-review",a)},setInputs(){const{review:t}=this;t&&(this.description.data=t.description,this.rate.data=t.rate)},changeRate(t){this.rate.data=t},descriptionValidation(){if(this.description.data.length>this.description.maxLen){this.description.isValid=!1,this.description.errorMsg="Your description is too long!";return}if(this.description.data.length===0){this.description.isValid=!1,this.description.errorMsg="Your description is too short!";return}this.description.isValid=!0},rateValidation(){if(this.rate.data===0){this.rate.isValid=!1,this.rate.errorMsg="You must set rate before continuing!";return}if(this.rate.data>this.rate.max){this.rate.isValid=!1,this.rate.errorMsg="Your set rate is too high!";return}this.rate.isValid=!0}},watch:{"description.data":function(){this.descriptionValidation()},"rate.data":function(){this.rateValidation()}},components:{BaseSubmitButton:v,CoachAddReviewFormRate:V}};const g=t=>(m("data-v-a81caa43"),t=t(),f(),t),T=g(()=>e("span",{class:"section-title"},"description:",-1)),j={class:"input-wrapper"},z=g(()=>e("label",{type:"text",for:"description"},[B("Description"),e("sup",null,"*")],-1)),E={class:"validation"},H={key:0,class:"invalid"},J={class:"counter"},K={class:"input-wrapper"},O={class:"validation"},U={key:0,class:"invalid"},G={class:"buttons"};function P(t,s,a,w,b,i){const l=V,o=v;return n(),d("form",{class:"form",onSubmit:s[1]||(s[1]=S((...c)=>i.submitData&&i.submitData(...c),["prevent"])),novalidate:""},[T,e("div",j,[I(e("textarea",{id:"description","onUpdate:modelValue":s[0]||(s[0]=c=>t.description.data=c),rows:"3",required:""},null,512),[[x,t.description.data]]),z,e("div",E,[t.description.isValid?u("",!0):(n(),d("span",H,r(t.description.errorMsg),1)),e("span",J,r(t.description.data.length)+"/"+r(t.description.maxLen),1)])]),e("div",K,[p(l,{rate:t.rate.data,max:t.rate.max,onChange:i.changeRate},null,8,["rate","max","onChange"]),e("div",O,[t.rate.isValid?u("",!0):(n(),d("span",U,r(t.rate.errorMsg),1))])]),e("div",G,[p(o,{isValid:t.formIsValid},null,8,["isValid"])])],32)}const W=h(Y,[["render",P],["__scopeId","data-v-a81caa43"]]);export{W as _};
