function pu(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hi(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const xe={},mn=[],ft=()=>{},vu=()=>!1,gu=/^on[^a-z]/,_s=t=>gu.test(t),zi=t=>t.startsWith("onUpdate:"),Re=Object.assign,Ki=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},mu=Object.prototype.hasOwnProperty,ae=(t,e)=>mu.call(t,e),Y=Array.isArray,yn=t=>Er(t)==="[object Map]",bs=t=>Er(t)==="[object Set]",Lo=t=>Er(t)==="[object Date]",ne=t=>typeof t=="function",Oe=t=>typeof t=="string",ar=t=>typeof t=="symbol",be=t=>t!==null&&typeof t=="object",fc=t=>be(t)&&ne(t.then)&&ne(t.catch),hc=Object.prototype.toString,Er=t=>hc.call(t),yu=t=>Er(t).slice(8,-1),dc=t=>Er(t)==="[object Object]",Vi=t=>Oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gr=Hi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ws=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_u=/-(\w)/g,yt=ws(t=>t.replace(_u,(e,n)=>n?n.toUpperCase():"")),bu=/\B([A-Z])/g,Rn=ws(t=>t.replace(bu,"-$1").toLowerCase()),Ss=ws(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wr=ws(t=>t?`on${Ss(t)}`:""),cr=(t,e)=>!Object.is(t,e),Yr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},os=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ui=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wu=t=>{const e=Oe(t)?Number(t):NaN;return isNaN(e)?t:e};let Do;const fi=()=>Do||(Do=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xr(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Oe(r)?Tu(r):xr(r);if(s)for(const i in s)e[i]=s[i]}return e}else{if(Oe(t))return t;if(be(t))return t}}const Su=/;(?![^(]*\))/g,Eu=/:([^]+)/,xu=/\/\*[^]*?\*\//g;function Tu(t){const e={};return t.replace(xu,"").split(Su).forEach(n=>{if(n){const r=n.split(Eu);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function xt(t){let e="";if(Oe(t))e=t;else if(Y(t))for(let n=0;n<t.length;n++){const r=xt(t[n]);r&&(e+=r+" ")}else if(be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function n_(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Oe(e)&&(t.class=xt(e)),n&&(t.style=xr(n)),t}const Ou="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cu=Hi(Ou);function pc(t){return!!t||t===""}function Au(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Es(t[r],e[r]);return n}function Es(t,e){if(t===e)return!0;let n=Lo(t),r=Lo(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ar(t),r=ar(e),n||r)return t===e;if(n=Y(t),r=Y(e),n||r)return n&&r?Au(t,e):!1;if(n=be(t),r=be(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Es(t[o],e[o]))return!1}}return String(t)===String(e)}function vc(t,e){return t.findIndex(n=>Es(n,e))}const r_=t=>Oe(t)?t:t==null?"":Y(t)||be(t)&&(t.toString===hc||!ne(t.toString))?JSON.stringify(t,gc,2):String(t),gc=(t,e)=>e&&e.__v_isRef?gc(t,e.value):yn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:bs(e)?{[`Set(${e.size})`]:[...e.values()]}:be(e)&&!Y(e)&&!dc(e)?String(e):e;let Qe;class mc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!e&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Qe;try{return Qe=this,e()}finally{Qe=n}}}on(){Qe=this}off(){Qe=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function yc(t){return new mc(t)}function Ru(t,e=Qe){e&&e.active&&e.effects.push(t)}function _c(){return Qe}function $u(t){Qe&&Qe.cleanups.push(t)}const Ji=t=>{const e=new Set(t);return e.w=0,e.n=0,e},bc=t=>(t.w&qt)>0,wc=t=>(t.n&qt)>0,ku=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qt},Pu=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];bc(s)&&!wc(s)?s.delete(t):e[n++]=s,s.w&=~qt,s.n&=~qt}e.length=n}},as=new WeakMap;let Bn=0,qt=1;const hi=30;let lt;const nn=Symbol(""),di=Symbol("");class Gi{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ru(this,r)}run(){if(!this.active)return this.fn();let e=lt,n=Ft;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=lt,lt=this,Ft=!0,qt=1<<++Bn,Bn<=hi?ku(this):No(this),this.fn()}finally{Bn<=hi&&Pu(this),qt=1<<--Bn,lt=this.parent,Ft=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){lt===this?this.deferStop=!0:this.active&&(No(this),this.onStop&&this.onStop(),this.active=!1)}}function No(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ft=!0;const Sc=[];function $n(){Sc.push(Ft),Ft=!1}function kn(){const t=Sc.pop();Ft=t===void 0?!0:t}function Ge(t,e,n){if(Ft&&lt){let r=as.get(t);r||as.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Ji()),Ec(s)}}function Ec(t,e){let n=!1;Bn<=hi?wc(t)||(t.n|=qt,n=!bc(t)):n=!t.has(lt),n&&(t.add(lt),lt.deps.push(t))}function Et(t,e,n,r,s,i){const o=as.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Y(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Y(t)?Vi(n)&&a.push(o.get("length")):(a.push(o.get(nn)),yn(t)&&a.push(o.get(di)));break;case"delete":Y(t)||(a.push(o.get(nn)),yn(t)&&a.push(o.get(di)));break;case"set":yn(t)&&a.push(o.get(nn));break}if(a.length===1)a[0]&&pi(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);pi(Ji(c))}}function pi(t,e){const n=Y(t)?t:[...t];for(const r of n)r.computed&&Mo(r);for(const r of n)r.computed||Mo(r)}function Mo(t,e){(t!==lt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Iu(t,e){var n;return(n=as.get(t))==null?void 0:n.get(e)}const ju=Hi("__proto__,__v_isRef,__isVue"),xc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ar)),Lu=Wi(),Du=Wi(!1,!0),Nu=Wi(!0),Fo=Mu();function Mu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ie(this);for(let i=0,o=this.length;i<o;i++)Ge(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(ie)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){$n();const r=ie(this)[e].apply(this,n);return kn(),r}}),t}function Fu(t){const e=ie(this);return Ge(e,"has",t),e.hasOwnProperty(t)}function Wi(t=!1,e=!1){return function(r,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?tf:Rc:e?Ac:Cc).get(r))return r;const o=Y(r);if(!t){if(o&&ae(Fo,s))return Reflect.get(Fo,s,i);if(s==="hasOwnProperty")return Fu}const a=Reflect.get(r,s,i);return(ar(s)?xc.has(s):ju(s))||(t||Ge(r,"get",s),e)?a:Ae(a)?o&&Vi(s)?a:a.value:be(a)?t?kc(a):Tr(a):a}}const Uu=Tc(),Bu=Tc(!0);function Tc(t=!1){return function(n,r,s,i){let o=n[r];if(En(o)&&Ae(o)&&!Ae(s))return!1;if(!t&&(!cs(s)&&!En(s)&&(o=ie(o),s=ie(s)),!Y(n)&&Ae(o)&&!Ae(s)))return o.value=s,!0;const a=Y(n)&&Vi(r)?Number(r)<n.length:ae(n,r),c=Reflect.set(n,r,s,i);return n===ie(i)&&(a?cr(s,o)&&Et(n,"set",r,s):Et(n,"add",r,s)),c}}function qu(t,e){const n=ae(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Et(t,"delete",e,void 0),r}function Hu(t,e){const n=Reflect.has(t,e);return(!ar(e)||!xc.has(e))&&Ge(t,"has",e),n}function zu(t){return Ge(t,"iterate",Y(t)?"length":nn),Reflect.ownKeys(t)}const Oc={get:Lu,set:Uu,deleteProperty:qu,has:Hu,ownKeys:zu},Ku={get:Nu,set(t,e){return!0},deleteProperty(t,e){return!0}},Vu=Re({},Oc,{get:Du,set:Bu}),Yi=t=>t,xs=t=>Reflect.getPrototypeOf(t);function $r(t,e,n=!1,r=!1){t=t.__v_raw;const s=ie(t),i=ie(e);n||(e!==i&&Ge(s,"get",e),Ge(s,"get",i));const{has:o}=xs(s),a=r?Yi:n?Zi:lr;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function kr(t,e=!1){const n=this.__v_raw,r=ie(n),s=ie(t);return e||(t!==s&&Ge(r,"has",t),Ge(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Pr(t,e=!1){return t=t.__v_raw,!e&&Ge(ie(t),"iterate",nn),Reflect.get(t,"size",t)}function Uo(t){t=ie(t);const e=ie(this);return xs(e).has.call(e,t)||(e.add(t),Et(e,"add",t,t)),this}function Bo(t,e){e=ie(e);const n=ie(this),{has:r,get:s}=xs(n);let i=r.call(n,t);i||(t=ie(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?cr(e,o)&&Et(n,"set",t,e):Et(n,"add",t,e),this}function qo(t){const e=ie(this),{has:n,get:r}=xs(e);let s=n.call(e,t);s||(t=ie(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Et(e,"delete",t,void 0),i}function Ho(){const t=ie(this),e=t.size!==0,n=t.clear();return e&&Et(t,"clear",void 0,void 0),n}function Ir(t,e){return function(r,s){const i=this,o=i.__v_raw,a=ie(o),c=e?Yi:t?Zi:lr;return!t&&Ge(a,"iterate",nn),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function jr(t,e,n){return function(...r){const s=this.__v_raw,i=ie(s),o=yn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?Yi:e?Zi:lr;return!e&&Ge(i,"iterate",c?di:nn),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Ct(t){return function(...e){return t==="delete"?!1:this}}function Ju(){const t={get(i){return $r(this,i)},get size(){return Pr(this)},has:kr,add:Uo,set:Bo,delete:qo,clear:Ho,forEach:Ir(!1,!1)},e={get(i){return $r(this,i,!1,!0)},get size(){return Pr(this)},has:kr,add:Uo,set:Bo,delete:qo,clear:Ho,forEach:Ir(!1,!0)},n={get(i){return $r(this,i,!0)},get size(){return Pr(this,!0)},has(i){return kr.call(this,i,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:Ir(!0,!1)},r={get(i){return $r(this,i,!0,!0)},get size(){return Pr(this,!0)},has(i){return kr.call(this,i,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:Ir(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=jr(i,!1,!1),n[i]=jr(i,!0,!1),e[i]=jr(i,!1,!0),r[i]=jr(i,!0,!0)}),[t,n,e,r]}const[Gu,Wu,Yu,Qu]=Ju();function Qi(t,e){const n=e?t?Qu:Yu:t?Wu:Gu;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ae(n,s)&&s in r?n:r,s,i)}const Xu={get:Qi(!1,!1)},Zu={get:Qi(!1,!0)},ef={get:Qi(!0,!1)},Cc=new WeakMap,Ac=new WeakMap,Rc=new WeakMap,tf=new WeakMap;function nf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rf(t){return t.__v_skip||!Object.isExtensible(t)?0:nf(yu(t))}function Tr(t){return En(t)?t:Xi(t,!1,Oc,Xu,Cc)}function $c(t){return Xi(t,!1,Vu,Zu,Ac)}function kc(t){return Xi(t,!0,Ku,ef,Rc)}function Xi(t,e,n,r,s){if(!be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=rf(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Ut(t){return En(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function En(t){return!!(t&&t.__v_isReadonly)}function cs(t){return!!(t&&t.__v_isShallow)}function Pc(t){return Ut(t)||En(t)}function ie(t){const e=t&&t.__v_raw;return e?ie(e):t}function Ts(t){return os(t,"__v_skip",!0),t}const lr=t=>be(t)?Tr(t):t,Zi=t=>be(t)?kc(t):t;function Ic(t){Ft&&lt&&(t=ie(t),Ec(t.dep||(t.dep=Ji())))}function jc(t,e){t=ie(t);const n=t.dep;n&&pi(n)}function Ae(t){return!!(t&&t.__v_isRef===!0)}function sn(t){return Dc(t,!1)}function Lc(t){return Dc(t,!0)}function Dc(t,e){return Ae(t)?t:new sf(t,e)}class sf{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ie(e),this._value=n?e:lr(e)}get value(){return Ic(this),this._value}set value(e){const n=this.__v_isShallow||cs(e)||En(e);e=n?e:ie(e),cr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:lr(e),jc(this))}}function _n(t){return Ae(t)?t.value:t}const of={get:(t,e,n)=>_n(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ae(s)&&!Ae(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Nc(t){return Ut(t)?t:new Proxy(t,of)}function af(t){const e=Y(t)?new Array(t.length):{};for(const n in t)e[n]=lf(t,n);return e}class cf{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Iu(ie(this._object),this._key)}}function lf(t,e,n){const r=t[e];return Ae(r)?r:new cf(t,e,n)}class uf{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gi(e,()=>{this._dirty||(this._dirty=!0,jc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=ie(this);return Ic(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ff(t,e,n=!1){let r,s;const i=ne(t);return i?(r=t,s=ft):(r=t.get,s=t.set),new uf(r,s,i||!s,n)}function Bt(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Os(i,e,n)}return s}function nt(t,e,n,r){if(ne(t)){const i=Bt(t,e,n,r);return i&&fc(i)&&i.catch(o=>{Os(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(nt(t[i],e,n,r));return s}function Os(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Bt(c,null,10,[t,o,a]);return}}hf(t,n,s,r)}function hf(t,e,n,r=!0){console.error(t)}let ur=!1,vi=!1;const Be=[];let gt=0;const bn=[];let St=null,Wt=0;const Mc=Promise.resolve();let eo=null;function to(t){const e=eo||Mc;return t?e.then(this?t.bind(this):t):e}function df(t){let e=gt+1,n=Be.length;for(;e<n;){const r=e+n>>>1;fr(Be[r])<t?e=r+1:n=r}return e}function no(t){(!Be.length||!Be.includes(t,ur&&t.allowRecurse?gt+1:gt))&&(t.id==null?Be.push(t):Be.splice(df(t.id),0,t),Fc())}function Fc(){!ur&&!vi&&(vi=!0,eo=Mc.then(Bc))}function pf(t){const e=Be.indexOf(t);e>gt&&Be.splice(e,1)}function vf(t){Y(t)?bn.push(...t):(!St||!St.includes(t,t.allowRecurse?Wt+1:Wt))&&bn.push(t),Fc()}function zo(t,e=ur?gt+1:0){for(;e<Be.length;e++){const n=Be[e];n&&n.pre&&(Be.splice(e,1),e--,n())}}function Uc(t){if(bn.length){const e=[...new Set(bn)];if(bn.length=0,St){St.push(...e);return}for(St=e,St.sort((n,r)=>fr(n)-fr(r)),Wt=0;Wt<St.length;Wt++)St[Wt]();St=null,Wt=0}}const fr=t=>t.id==null?1/0:t.id,gf=(t,e)=>{const n=fr(t)-fr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Bc(t){vi=!1,ur=!0,Be.sort(gf);const e=ft;try{for(gt=0;gt<Be.length;gt++){const n=Be[gt];n&&n.active!==!1&&Bt(n,null,14)}}finally{gt=0,Be.length=0,Uc(),ur=!1,eo=null,(Be.length||bn.length)&&Bc()}}function mf(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||xe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=r[u]||xe;h&&(s=n.map(d=>Oe(d)?d.trim():d)),f&&(s=n.map(ui))}let a,c=r[a=Wr(e)]||r[a=Wr(yt(e))];!c&&i&&(c=r[a=Wr(Rn(e))]),c&&nt(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nt(l,t,6,s)}}function qc(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!ne(t)){const c=l=>{const u=qc(l,e,!0);u&&(a=!0,Re(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(be(t)&&r.set(t,null),null):(Y(i)?i.forEach(c=>o[c]=null):Re(o,i),be(t)&&r.set(t,o),o)}function Cs(t,e){return!t||!_s(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,Rn(e))||ae(t,e))}let Le=null,As=null;function ls(t){const e=Le;return Le=t,As=t&&t.type.__scopeId||null,e}function Or(t){As=t}function Cr(){As=null}function Xe(t,e=Le,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ra(-1);const i=ls(e);let o;try{o=t(...s)}finally{ls(i),r._d&&ra(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Vs(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:f,data:h,setupState:d,ctx:v,inheritAttrs:m}=t;let S,y;const _=ls(t);try{if(n.shapeFlag&4){const E=s||r;S=vt(u.call(E,E,f,i,d,h,v)),y=c}else{const E=e;S=vt(E.length>1?E(i,{attrs:c,slots:a,emit:l}):E(i,null)),y=e.props?c:yf(c)}}catch(E){Zn.length=0,Os(E,t,1),S=ye(rt)}let x=S;if(y&&m!==!1){const E=Object.keys(y),{shapeFlag:D}=x;E.length&&D&7&&(o&&E.some(zi)&&(y=_f(y,o)),x=Ht(x,y))}return n.dirs&&(x=Ht(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),S=x,ls(_),S}const yf=t=>{let e;for(const n in t)(n==="class"||n==="style"||_s(n))&&((e||(e={}))[n]=t[n]);return e},_f=(t,e)=>{const n={};for(const r in t)(!zi(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function bf(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ko(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==r[h]&&!Cs(l,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ko(r,o,l):!0:!!o;return!1}function Ko(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Cs(n,i))return!0}return!1}function wf({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Sf=t=>t.__isSuspense;function Ef(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):vf(t)}const Lr={};function Wn(t,e,n){return Hc(t,e,n)}function Hc(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=xe){var a;const c=_c()===((a=Pe)==null?void 0:a.scope)?Pe:null;let l,u=!1,f=!1;if(Ae(t)?(l=()=>t.value,u=cs(t)):Ut(t)?(l=()=>t,r=!0):Y(t)?(f=!0,u=t.some(E=>Ut(E)||cs(E)),l=()=>t.map(E=>{if(Ae(E))return E.value;if(Ut(E))return tn(E);if(ne(E))return Bt(E,c,2)})):ne(t)?e?l=()=>Bt(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return h&&h(),nt(t,c,3,[d])}:l=ft,e&&r){const E=l;l=()=>tn(E())}let h,d=E=>{h=_.onStop=()=>{Bt(E,c,4)}},v;if(gr)if(d=ft,e?n&&nt(e,c,3,[l(),f?[]:void 0,d]):l(),s==="sync"){const E=_h();v=E.__watcherHandles||(E.__watcherHandles=[])}else return ft;let m=f?new Array(t.length).fill(Lr):Lr;const S=()=>{if(_.active)if(e){const E=_.run();(r||u||(f?E.some((D,V)=>cr(D,m[V])):cr(E,m)))&&(h&&h(),nt(e,c,3,[E,m===Lr?void 0:f&&m[0]===Lr?[]:m,d]),m=E)}else _.run()};S.allowRecurse=!!e;let y;s==="sync"?y=S:s==="post"?y=()=>Ve(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),y=()=>no(S));const _=new Gi(l,y);e?n?S():m=_.run():s==="post"?Ve(_.run.bind(_),c&&c.suspense):_.run();const x=()=>{_.stop(),c&&c.scope&&Ki(c.scope.effects,_)};return v&&v.push(x),x}function xf(t,e,n){const r=this.proxy,s=Oe(t)?t.includes(".")?zc(r,t):()=>r[t]:t.bind(r,r);let i;ne(e)?i=e:(i=e.handler,n=e);const o=Pe;xn(this);const a=Hc(s,i.bind(r),n);return o?xn(o):rn(),a}function zc(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function tn(t,e){if(!be(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ae(t))tn(t.value,e);else if(Y(t))for(let n=0;n<t.length;n++)tn(t[n],e);else if(bs(t)||yn(t))t.forEach(n=>{tn(n,e)});else if(dc(t))for(const n in t)tn(t[n],e);return t}function s_(t,e){const n=Le;if(n===null)return t;const r=Is(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=xe]=e[i];o&&(ne(o)&&(o={mounted:o,updated:o}),o.deep&&tn(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Kt(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&($n(),nt(c,n,8,[t.el,a,t,e]),kn())}}function Kc(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return so(()=>{t.isMounted=!0}),io(()=>{t.isUnmounting=!0}),t}const Ze=[Function,Array],Vc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ze,onEnter:Ze,onAfterEnter:Ze,onEnterCancelled:Ze,onBeforeLeave:Ze,onLeave:Ze,onAfterLeave:Ze,onLeaveCancelled:Ze,onBeforeAppear:Ze,onAppear:Ze,onAfterAppear:Ze,onAppearCancelled:Ze},Tf={name:"BaseTransition",props:Vc,setup(t,{slots:e}){const n=ul(),r=Kc();let s;return()=>{const i=e.default&&ro(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const m of i)if(m.type!==rt){o=m;break}}const a=ie(t),{mode:c}=a;if(r.isLeaving)return Js(o);const l=Vo(o);if(!l)return Js(o);const u=hr(l,a,r,n);dr(l,u);const f=n.subTree,h=f&&Vo(f);let d=!1;const{getTransitionKey:v}=l.type;if(v){const m=v();s===void 0?s=m:m!==s&&(s=m,d=!0)}if(h&&h.type!==rt&&(!Yt(l,h)||d)){const m=hr(h,a,r,n);if(dr(h,m),c==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Js(o);c==="in-out"&&l.type!==rt&&(m.delayLeave=(S,y,_)=>{const x=Jc(r,h);x[String(h.key)]=h,S._leaveCb=()=>{y(),S._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return o}}},Of=Tf;function Jc(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function hr(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:v,onBeforeAppear:m,onAppear:S,onAfterAppear:y,onAppearCancelled:_}=e,x=String(t.key),E=Jc(n,t),D=(C,k)=>{C&&nt(C,r,9,k)},V=(C,k)=>{const H=k[1];D(C,k),Y(C)?C.every(L=>L.length<=1)&&H():C.length<=1&&H()},q={mode:i,persisted:o,beforeEnter(C){let k=a;if(!n.isMounted)if(s)k=m||a;else return;C._leaveCb&&C._leaveCb(!0);const H=E[x];H&&Yt(t,H)&&H.el._leaveCb&&H.el._leaveCb(),D(k,[C])},enter(C){let k=c,H=l,L=u;if(!n.isMounted)if(s)k=S||c,H=y||l,L=_||u;else return;let P=!1;const Z=C._enterCb=w=>{P||(P=!0,w?D(L,[C]):D(H,[C]),q.delayedLeave&&q.delayedLeave(),C._enterCb=void 0)};k?V(k,[C,Z]):Z()},leave(C,k){const H=String(t.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return k();D(f,[C]);let L=!1;const P=C._leaveCb=Z=>{L||(L=!0,k(),Z?D(v,[C]):D(d,[C]),C._leaveCb=void 0,E[H]===t&&delete E[H])};E[H]=t,h?V(h,[C,P]):P()},clone(C){return hr(C,e,n,r)}};return q}function Js(t){if(Rs(t))return t=Ht(t),t.children=null,t}function Vo(t){return Rs(t)?t.children?t.children[0]:void 0:t}function dr(t,e){t.shapeFlag&6&&t.component?dr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ro(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Je?(o.patchFlag&128&&s++,r=r.concat(ro(o.children,e,a))):(e||o.type!==rt)&&r.push(a!=null?Ht(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Gc(t,e){return ne(t)?(()=>Re({name:t.name},e,{setup:t}))():t}const Yn=t=>!!t.type.__asyncLoader,Rs=t=>t.type.__isKeepAlive;function Cf(t,e){Wc(t,"a",e)}function Af(t,e){Wc(t,"da",e)}function Wc(t,e,n=Pe){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($s(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Rs(s.parent.vnode)&&Rf(r,e,n,s),s=s.parent}}function Rf(t,e,n,r){const s=$s(e,t,r,!0);Qc(()=>{Ki(r[e],s)},n)}function $s(t,e,n=Pe,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;$n(),xn(n);const a=nt(e,n,t,o);return rn(),kn(),a});return r?s.unshift(i):s.push(i),i}}const Tt=t=>(e,n=Pe)=>(!gr||t==="sp")&&$s(t,(...r)=>e(...r),n),$f=Tt("bm"),so=Tt("m"),kf=Tt("bu"),Yc=Tt("u"),io=Tt("bum"),Qc=Tt("um"),Pf=Tt("sp"),If=Tt("rtg"),jf=Tt("rtc");function Lf(t,e=Pe){$s("ec",t,e)}const oo="components",Df="directives";function ao(t,e){return co(oo,t,!0,e)||t}const Xc=Symbol.for("v-ndc");function i_(t){return Oe(t)?co(oo,t,!1)||t:t||Xc}function o_(t){return co(Df,t)}function co(t,e,n=!0,r=!1){const s=Le||Pe;if(s){const i=s.type;if(t===oo){const a=gh(i,!1);if(a&&(a===e||a===yt(e)||a===Ss(yt(e))))return i}const o=Jo(s[t]||i[t],e)||Jo(s.appContext[t],e);return!o&&r?i:o}}function Jo(t,e){return t&&(t[e]||t[yt(e)]||t[Ss(yt(e))])}function a_(t,e,n,r){let s;const i=n&&n[r];if(Y(t)||Oe(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(be(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function zt(t,e,n={},r,s){if(Le.isCE||Le.parent&&Yn(Le.parent)&&Le.parent.isCE)return e!=="default"&&(n.name=e),ye("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),ce();const o=i&&Zc(i(n)),a=ze(Je,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Zc(t){return t.some(e=>fs(e)?!(e.type===rt||e.type===Je&&!Zc(e.children)):!0)?t:null}function c_(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Wr(r)]=t[r];return n}const gi=t=>t?fl(t)?Is(t)||t.proxy:gi(t.parent):null,Qn=Re(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gi(t.parent),$root:t=>gi(t.root),$emit:t=>t.emit,$options:t=>lo(t),$forceUpdate:t=>t.f||(t.f=()=>no(t.update)),$nextTick:t=>t.n||(t.n=to.bind(t.proxy)),$watch:t=>xf.bind(t)}),Gs=(t,e)=>t!==xe&&!t.__isScriptSetup&&ae(t,e),Nf={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Gs(r,e))return o[e]=1,r[e];if(s!==xe&&ae(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&ae(l,e))return o[e]=3,i[e];if(n!==xe&&ae(n,e))return o[e]=4,n[e];mi&&(o[e]=0)}}const u=Qn[e];let f,h;if(u)return e==="$attrs"&&Ge(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==xe&&ae(n,e))return o[e]=4,n[e];if(h=c.config.globalProperties,ae(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Gs(s,e)?(s[e]=n,!0):r!==xe&&ae(r,e)?(r[e]=n,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==xe&&ae(t,o)||Gs(e,o)||(a=i[0])&&ae(a,o)||ae(r,o)||ae(Qn,o)||ae(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Go(t){return Y(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let mi=!0;function Mf(t){const e=lo(t),n=t.proxy,r=t.ctx;mi=!1,e.beforeCreate&&Wo(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:m,deactivated:S,beforeDestroy:y,beforeUnmount:_,destroyed:x,unmounted:E,render:D,renderTracked:V,renderTriggered:q,errorCaptured:C,serverPrefetch:k,expose:H,inheritAttrs:L,components:P,directives:Z,filters:w}=e;if(l&&Ff(l,r,null),o)for(const G in o){const J=o[G];ne(J)&&(r[G]=J.bind(n))}if(s){const G=s.call(n,n);be(G)&&(t.data=Tr(G))}if(mi=!0,i)for(const G in i){const J=i[G],ee=ne(J)?J.bind(n,n):ne(J.get)?J.get.bind(n,n):ft,Me=!ne(J)&&ne(J.set)?J.set.bind(n):ft,ge=fe({get:ee,set:Me});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>ge.value,set:$e=>ge.value=$e})}if(a)for(const G in a)el(a[G],r,n,G);if(c){const G=ne(c)?c.call(n):c;Reflect.ownKeys(G).forEach(J=>{Qr(J,G[J])})}u&&Wo(u,t,"c");function N(G,J){Y(J)?J.forEach(ee=>G(ee.bind(n))):J&&G(J.bind(n))}if(N($f,f),N(so,h),N(kf,d),N(Yc,v),N(Cf,m),N(Af,S),N(Lf,C),N(jf,V),N(If,q),N(io,_),N(Qc,E),N(Pf,k),Y(H))if(H.length){const G=t.exposed||(t.exposed={});H.forEach(J=>{Object.defineProperty(G,J,{get:()=>n[J],set:ee=>n[J]=ee})})}else t.exposed||(t.exposed={});D&&t.render===ft&&(t.render=D),L!=null&&(t.inheritAttrs=L),P&&(t.components=P),Z&&(t.directives=Z)}function Ff(t,e,n=ft){Y(t)&&(t=yi(t));for(const r in t){const s=t[r];let i;be(s)?"default"in s?i=mt(s.from||r,s.default,!0):i=mt(s.from||r):i=mt(s),Ae(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Wo(t,e,n){nt(Y(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function el(t,e,n,r){const s=r.includes(".")?zc(n,r):()=>n[r];if(Oe(t)){const i=e[t];ne(i)&&Wn(s,i)}else if(ne(t))Wn(s,t.bind(n));else if(be(t))if(Y(t))t.forEach(i=>el(i,e,n,r));else{const i=ne(t.handler)?t.handler.bind(n):e[t.handler];ne(i)&&Wn(s,i,t)}}function lo(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>us(c,l,o,!0)),us(c,e,o)),be(e)&&i.set(e,c),c}function us(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&us(t,i,n,!0),s&&s.forEach(o=>us(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Uf[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Uf={data:Yo,props:Qo,emits:Qo,methods:qn,computed:qn,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:qn,directives:qn,watch:qf,provide:Yo,inject:Bf};function Yo(t,e){return e?t?function(){return Re(ne(t)?t.call(this,this):t,ne(e)?e.call(this,this):e)}:e:t}function Bf(t,e){return qn(yi(t),yi(e))}function yi(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function He(t,e){return t?[...new Set([].concat(t,e))]:e}function qn(t,e){return t?Re(Object.create(null),t,e):e}function Qo(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:Re(Object.create(null),Go(t),Go(e??{})):e}function qf(t,e){if(!t)return e;if(!e)return t;const n=Re(Object.create(null),t);for(const r in e)n[r]=He(t[r],e[r]);return n}function tl(){return{app:null,config:{isNativeTag:vu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hf=0;function zf(t,e){return function(r,s=null){ne(r)||(r=Re({},r)),s!=null&&!be(s)&&(s=null);const i=tl(),o=new Set;let a=!1;const c=i.app={_uid:Hf++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:bh,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ne(l.install)?(o.add(l),l.install(c,...u)):ne(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,f){if(!a){const h=ye(r,s);return h.appContext=i,u&&e?e(h,l):t(h,l,f),a=!0,c._container=l,l.__vue_app__=c,Is(h.component)||h.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){pr=c;try{return l()}finally{pr=null}}};return c}}let pr=null;function Qr(t,e){if(Pe){let n=Pe.provides;const r=Pe.parent&&Pe.parent.provides;r===n&&(n=Pe.provides=Object.create(r)),n[t]=e}}function mt(t,e,n=!1){const r=Pe||Le;if(r||pr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:pr._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ne(e)?e.call(r&&r.proxy):e}}function Kf(){return!!(Pe||Le||pr)}function Vf(t,e,n,r=!1){const s={},i={};os(i,Ps,1),t.propsDefaults=Object.create(null),nl(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:$c(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Jf(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ie(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Cs(t.emitsOptions,h))continue;const d=e[h];if(c)if(ae(i,h))d!==i[h]&&(i[h]=d,l=!0);else{const v=yt(h);s[v]=_i(c,a,v,d,t,!1)}else d!==i[h]&&(i[h]=d,l=!0)}}}else{nl(t,e,s,i)&&(l=!0);let u;for(const f in a)(!e||!ae(e,f)&&((u=Rn(f))===f||!ae(e,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=_i(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!ae(e,f))&&(delete i[f],l=!0)}l&&Et(t,"set","$attrs")}function nl(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Gr(c))continue;const l=e[c];let u;s&&ae(s,u=yt(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Cs(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=ie(n),l=a||xe;for(let u=0;u<i.length;u++){const f=i[u];n[f]=_i(s,c,f,l[f],t,!ae(l,f))}}return o}function _i(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=ae(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ne(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(xn(s),r=l[n]=c.call(null,e),rn())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Rn(n))&&(r=!0))}return r}function rl(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!ne(t)){const u=f=>{c=!0;const[h,d]=rl(f,e,!0);Re(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return be(t)&&r.set(t,mn),mn;if(Y(i))for(let u=0;u<i.length;u++){const f=yt(i[u]);Xo(f)&&(o[f]=xe)}else if(i)for(const u in i){const f=yt(u);if(Xo(f)){const h=i[u],d=o[f]=Y(h)||ne(h)?{type:h}:Re({},h);if(d){const v=ta(Boolean,d.type),m=ta(String,d.type);d[0]=v>-1,d[1]=m<0||v<m,(v>-1||ae(d,"default"))&&a.push(f)}}}const l=[o,a];return be(t)&&r.set(t,l),l}function Xo(t){return t[0]!=="$"}function Zo(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function ea(t,e){return Zo(t)===Zo(e)}function ta(t,e){return Y(e)?e.findIndex(n=>ea(n,t)):ne(e)&&ea(e,t)?0:-1}const sl=t=>t[0]==="_"||t==="$stable",uo=t=>Y(t)?t.map(vt):[vt(t)],Gf=(t,e,n)=>{if(e._n)return e;const r=Xe((...s)=>uo(e(...s)),n);return r._c=!1,r},il=(t,e,n)=>{const r=t._ctx;for(const s in t){if(sl(s))continue;const i=t[s];if(ne(i))e[s]=Gf(s,i,r);else if(i!=null){const o=uo(i);e[s]=()=>o}}},ol=(t,e)=>{const n=uo(e);t.slots.default=()=>n},Wf=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ie(e),os(e,"_",n)):il(e,t.slots={})}else t.slots={},e&&ol(t,e);os(t.slots,Ps,1)},Yf=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=xe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Re(s,e),!n&&a===1&&delete s._):(i=!e.$stable,il(e,s)),o=e}else e&&(ol(t,e),o={default:1});if(i)for(const a in s)!sl(a)&&!(a in o)&&delete s[a]};function bi(t,e,n,r,s=!1){if(Y(t)){t.forEach((h,d)=>bi(h,e&&(Y(e)?e[d]:e),n,r,s));return}if(Yn(r)&&!s)return;const i=r.shapeFlag&4?Is(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===xe?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(Oe(l)?(u[l]=null,ae(f,l)&&(f[l]=null)):Ae(l)&&(l.value=null)),ne(c))Bt(c,a,12,[o,u]);else{const h=Oe(c),d=Ae(c);if(h||d){const v=()=>{if(t.f){const m=h?ae(f,c)?f[c]:u[c]:c.value;s?Y(m)&&Ki(m,i):Y(m)?m.includes(i)||m.push(i):h?(u[c]=[i],ae(f,c)&&(f[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else h?(u[c]=o,ae(f,c)&&(f[c]=o)):d&&(c.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,Ve(v,n)):v()}}}const Ve=Ef;function Qf(t){return Xf(t)}function Xf(t,e){const n=fi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=ft,insertStaticContent:v}=t,m=(p,g,b,T=null,A=null,$=null,B=!1,j=null,F=!!g.dynamicChildren)=>{if(p===g)return;p&&!Yt(p,g)&&(T=O(p),$e(p,A,$,!0),p=null),g.patchFlag===-2&&(F=!1,g.dynamicChildren=null);const{type:I,ref:Q,shapeFlag:K}=g;switch(I){case ks:S(p,g,b,T);break;case rt:y(p,g,b,T);break;case Xr:p==null&&_(g,b,T,B);break;case Je:P(p,g,b,T,A,$,B,j,F);break;default:K&1?D(p,g,b,T,A,$,B,j,F):K&6?Z(p,g,b,T,A,$,B,j,F):(K&64||K&128)&&I.process(p,g,b,T,A,$,B,j,F,U)}Q!=null&&A&&bi(Q,p&&p.ref,$,g||p,!g)},S=(p,g,b,T)=>{if(p==null)r(g.el=a(g.children),b,T);else{const A=g.el=p.el;g.children!==p.children&&l(A,g.children)}},y=(p,g,b,T)=>{p==null?r(g.el=c(g.children||""),b,T):g.el=p.el},_=(p,g,b,T)=>{[p.el,p.anchor]=v(p.children,g,b,T,p.el,p.anchor)},x=({el:p,anchor:g},b,T)=>{let A;for(;p&&p!==g;)A=h(p),r(p,b,T),p=A;r(g,b,T)},E=({el:p,anchor:g})=>{let b;for(;p&&p!==g;)b=h(p),s(p),p=b;s(g)},D=(p,g,b,T,A,$,B,j,F)=>{B=B||g.type==="svg",p==null?V(g,b,T,A,$,B,j,F):k(p,g,A,$,B,j,F)},V=(p,g,b,T,A,$,B,j)=>{let F,I;const{type:Q,props:K,shapeFlag:X,transition:te,dirs:re}=p;if(F=p.el=o(p.type,$,K&&K.is,K),X&8?u(F,p.children):X&16&&C(p.children,F,null,T,A,$&&Q!=="foreignObject",B,j),re&&Kt(p,null,T,"created"),q(F,p,p.scopeId,B,T),K){for(const me in K)me!=="value"&&!Gr(me)&&i(F,me,null,K[me],$,p.children,T,A,Fe);"value"in K&&i(F,"value",null,K.value),(I=K.onVnodeBeforeMount)&&pt(I,T,p)}re&&Kt(p,null,T,"beforeMount");const we=(!A||A&&!A.pendingBranch)&&te&&!te.persisted;we&&te.beforeEnter(F),r(F,g,b),((I=K&&K.onVnodeMounted)||we||re)&&Ve(()=>{I&&pt(I,T,p),we&&te.enter(F),re&&Kt(p,null,T,"mounted")},A)},q=(p,g,b,T,A)=>{if(b&&d(p,b),T)for(let $=0;$<T.length;$++)d(p,T[$]);if(A){let $=A.subTree;if(g===$){const B=A.vnode;q(p,B,B.scopeId,B.slotScopeIds,A.parent)}}},C=(p,g,b,T,A,$,B,j,F=0)=>{for(let I=F;I<p.length;I++){const Q=p[I]=j?It(p[I]):vt(p[I]);m(null,Q,g,b,T,A,$,B,j)}},k=(p,g,b,T,A,$,B)=>{const j=g.el=p.el;let{patchFlag:F,dynamicChildren:I,dirs:Q}=g;F|=p.patchFlag&16;const K=p.props||xe,X=g.props||xe;let te;b&&Vt(b,!1),(te=X.onVnodeBeforeUpdate)&&pt(te,b,g,p),Q&&Kt(g,p,b,"beforeUpdate"),b&&Vt(b,!0);const re=A&&g.type!=="foreignObject";if(I?H(p.dynamicChildren,I,j,b,T,re,$):B||J(p,g,j,null,b,T,re,$,!1),F>0){if(F&16)L(j,g,K,X,b,T,A);else if(F&2&&K.class!==X.class&&i(j,"class",null,X.class,A),F&4&&i(j,"style",K.style,X.style,A),F&8){const we=g.dynamicProps;for(let me=0;me<we.length;me++){const ke=we[me],ot=K[ke],on=X[ke];(on!==ot||ke==="value")&&i(j,ke,ot,on,A,p.children,b,T,Fe)}}F&1&&p.children!==g.children&&u(j,g.children)}else!B&&I==null&&L(j,g,K,X,b,T,A);((te=X.onVnodeUpdated)||Q)&&Ve(()=>{te&&pt(te,b,g,p),Q&&Kt(g,p,b,"updated")},T)},H=(p,g,b,T,A,$,B)=>{for(let j=0;j<g.length;j++){const F=p[j],I=g[j],Q=F.el&&(F.type===Je||!Yt(F,I)||F.shapeFlag&70)?f(F.el):b;m(F,I,Q,null,T,A,$,B,!0)}},L=(p,g,b,T,A,$,B)=>{if(b!==T){if(b!==xe)for(const j in b)!Gr(j)&&!(j in T)&&i(p,j,b[j],null,B,g.children,A,$,Fe);for(const j in T){if(Gr(j))continue;const F=T[j],I=b[j];F!==I&&j!=="value"&&i(p,j,I,F,B,g.children,A,$,Fe)}"value"in T&&i(p,"value",b.value,T.value)}},P=(p,g,b,T,A,$,B,j,F)=>{const I=g.el=p?p.el:a(""),Q=g.anchor=p?p.anchor:a("");let{patchFlag:K,dynamicChildren:X,slotScopeIds:te}=g;te&&(j=j?j.concat(te):te),p==null?(r(I,b,T),r(Q,b,T),C(g.children,b,Q,A,$,B,j,F)):K>0&&K&64&&X&&p.dynamicChildren?(H(p.dynamicChildren,X,b,A,$,B,j),(g.key!=null||A&&g===A.subTree)&&fo(p,g,!0)):J(p,g,b,Q,A,$,B,j,F)},Z=(p,g,b,T,A,$,B,j,F)=>{g.slotScopeIds=j,p==null?g.shapeFlag&512?A.ctx.activate(g,b,T,B,F):w(g,b,T,A,$,B,F):R(p,g,F)},w=(p,g,b,T,A,$,B)=>{const j=p.component=fh(p,T,A);if(Rs(p)&&(j.ctx.renderer=U),hh(j),j.asyncDep){if(A&&A.registerDep(j,N),!p.el){const F=j.subTree=ye(rt);y(null,F,g,b)}return}N(j,p,g,b,A,$,B)},R=(p,g,b)=>{const T=g.component=p.component;if(bf(p,g,b))if(T.asyncDep&&!T.asyncResolved){G(T,g,b);return}else T.next=g,pf(T.update),T.update();else g.el=p.el,T.vnode=g},N=(p,g,b,T,A,$,B)=>{const j=()=>{if(p.isMounted){let{next:Q,bu:K,u:X,parent:te,vnode:re}=p,we=Q,me;Vt(p,!1),Q?(Q.el=re.el,G(p,Q,B)):Q=re,K&&Yr(K),(me=Q.props&&Q.props.onVnodeBeforeUpdate)&&pt(me,te,Q,re),Vt(p,!0);const ke=Vs(p),ot=p.subTree;p.subTree=ke,m(ot,ke,f(ot.el),O(ot),p,A,$),Q.el=ke.el,we===null&&wf(p,ke.el),X&&Ve(X,A),(me=Q.props&&Q.props.onVnodeUpdated)&&Ve(()=>pt(me,te,Q,re),A)}else{let Q;const{el:K,props:X}=g,{bm:te,m:re,parent:we}=p,me=Yn(g);if(Vt(p,!1),te&&Yr(te),!me&&(Q=X&&X.onVnodeBeforeMount)&&pt(Q,we,g),Vt(p,!0),K&&de){const ke=()=>{p.subTree=Vs(p),de(K,p.subTree,p,A,null)};me?g.type.__asyncLoader().then(()=>!p.isUnmounted&&ke()):ke()}else{const ke=p.subTree=Vs(p);m(null,ke,b,T,p,A,$),g.el=ke.el}if(re&&Ve(re,A),!me&&(Q=X&&X.onVnodeMounted)){const ke=g;Ve(()=>pt(Q,we,ke),A)}(g.shapeFlag&256||we&&Yn(we.vnode)&&we.vnode.shapeFlag&256)&&p.a&&Ve(p.a,A),p.isMounted=!0,g=b=T=null}},F=p.effect=new Gi(j,()=>no(I),p.scope),I=p.update=()=>F.run();I.id=p.uid,Vt(p,!0),I()},G=(p,g,b)=>{g.component=p;const T=p.vnode.props;p.vnode=g,p.next=null,Jf(p,g.props,T,b),Yf(p,g.children,b),$n(),zo(),kn()},J=(p,g,b,T,A,$,B,j,F=!1)=>{const I=p&&p.children,Q=p?p.shapeFlag:0,K=g.children,{patchFlag:X,shapeFlag:te}=g;if(X>0){if(X&128){Me(I,K,b,T,A,$,B,j,F);return}else if(X&256){ee(I,K,b,T,A,$,B,j,F);return}}te&8?(Q&16&&Fe(I,A,$),K!==I&&u(b,K)):Q&16?te&16?Me(I,K,b,T,A,$,B,j,F):Fe(I,A,$,!0):(Q&8&&u(b,""),te&16&&C(K,b,T,A,$,B,j,F))},ee=(p,g,b,T,A,$,B,j,F)=>{p=p||mn,g=g||mn;const I=p.length,Q=g.length,K=Math.min(I,Q);let X;for(X=0;X<K;X++){const te=g[X]=F?It(g[X]):vt(g[X]);m(p[X],te,b,null,A,$,B,j,F)}I>Q?Fe(p,A,$,!0,!1,K):C(g,b,T,A,$,B,j,F,K)},Me=(p,g,b,T,A,$,B,j,F)=>{let I=0;const Q=g.length;let K=p.length-1,X=Q-1;for(;I<=K&&I<=X;){const te=p[I],re=g[I]=F?It(g[I]):vt(g[I]);if(Yt(te,re))m(te,re,b,null,A,$,B,j,F);else break;I++}for(;I<=K&&I<=X;){const te=p[K],re=g[X]=F?It(g[X]):vt(g[X]);if(Yt(te,re))m(te,re,b,null,A,$,B,j,F);else break;K--,X--}if(I>K){if(I<=X){const te=X+1,re=te<Q?g[te].el:T;for(;I<=X;)m(null,g[I]=F?It(g[I]):vt(g[I]),b,re,A,$,B,j,F),I++}}else if(I>X)for(;I<=K;)$e(p[I],A,$,!0),I++;else{const te=I,re=I,we=new Map;for(I=re;I<=X;I++){const We=g[I]=F?It(g[I]):vt(g[I]);We.key!=null&&we.set(We.key,I)}let me,ke=0;const ot=X-re+1;let on=!1,Po=0;const Ln=new Array(ot);for(I=0;I<ot;I++)Ln[I]=0;for(I=te;I<=K;I++){const We=p[I];if(ke>=ot){$e(We,A,$,!0);continue}let dt;if(We.key!=null)dt=we.get(We.key);else for(me=re;me<=X;me++)if(Ln[me-re]===0&&Yt(We,g[me])){dt=me;break}dt===void 0?$e(We,A,$,!0):(Ln[dt-re]=I+1,dt>=Po?Po=dt:on=!0,m(We,g[dt],b,null,A,$,B,j,F),ke++)}const Io=on?Zf(Ln):mn;for(me=Io.length-1,I=ot-1;I>=0;I--){const We=re+I,dt=g[We],jo=We+1<Q?g[We+1].el:T;Ln[I]===0?m(null,dt,b,jo,A,$,B,j,F):on&&(me<0||I!==Io[me]?ge(dt,b,jo,2):me--)}}},ge=(p,g,b,T,A=null)=>{const{el:$,type:B,transition:j,children:F,shapeFlag:I}=p;if(I&6){ge(p.component.subTree,g,b,T);return}if(I&128){p.suspense.move(g,b,T);return}if(I&64){B.move(p,g,b,U);return}if(B===Je){r($,g,b);for(let K=0;K<F.length;K++)ge(F[K],g,b,T);r(p.anchor,g,b);return}if(B===Xr){x(p,g,b);return}if(T!==2&&I&1&&j)if(T===0)j.beforeEnter($),r($,g,b),Ve(()=>j.enter($),A);else{const{leave:K,delayLeave:X,afterLeave:te}=j,re=()=>r($,g,b),we=()=>{K($,()=>{re(),te&&te()})};X?X($,re,we):we()}else r($,g,b)},$e=(p,g,b,T=!1,A=!1)=>{const{type:$,props:B,ref:j,children:F,dynamicChildren:I,shapeFlag:Q,patchFlag:K,dirs:X}=p;if(j!=null&&bi(j,null,b,p,!0),Q&256){g.ctx.deactivate(p);return}const te=Q&1&&X,re=!Yn(p);let we;if(re&&(we=B&&B.onVnodeBeforeUnmount)&&pt(we,g,p),Q&6)it(p.component,b,T);else{if(Q&128){p.suspense.unmount(b,T);return}te&&Kt(p,null,g,"beforeUnmount"),Q&64?p.type.remove(p,g,b,A,U,T):I&&($!==Je||K>0&&K&64)?Fe(I,g,b,!1,!0):($===Je&&K&384||!A&&Q&16)&&Fe(F,g,b),T&&Ot(p)}(re&&(we=B&&B.onVnodeUnmounted)||te)&&Ve(()=>{we&&pt(we,g,p),te&&Kt(p,null,g,"unmounted")},b)},Ot=p=>{const{type:g,el:b,anchor:T,transition:A}=p;if(g===Je){Ie(b,T);return}if(g===Xr){E(p);return}const $=()=>{s(b),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:B,delayLeave:j}=A,F=()=>B(b,$);j?j(p.el,$,F):F()}else $()},Ie=(p,g)=>{let b;for(;p!==g;)b=h(p),s(p),p=b;s(g)},it=(p,g,b)=>{const{bum:T,scope:A,update:$,subTree:B,um:j}=p;T&&Yr(T),A.stop(),$&&($.active=!1,$e(B,p,g,b)),j&&Ve(j,g),Ve(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Fe=(p,g,b,T=!1,A=!1,$=0)=>{for(let B=$;B<p.length;B++)$e(p[B],g,b,T,A)},O=p=>p.shapeFlag&6?O(p.component.subTree):p.shapeFlag&128?p.suspense.next():h(p.anchor||p.el),z=(p,g,b)=>{p==null?g._vnode&&$e(g._vnode,null,null,!0):m(g._vnode||null,p,g,null,null,null,b),zo(),Uc(),g._vnode=p},U={p:m,um:$e,m:ge,r:Ot,mt:w,mc:C,pc:J,pbc:H,n:O,o:t};let W,de;return e&&([W,de]=e(U)),{render:z,hydrate:W,createApp:zf(z,W)}}function Vt({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function fo(t,e,n=!1){const r=t.children,s=e.children;if(Y(r)&&Y(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=It(s[i]),a.el=o.el),n||fo(o,a)),a.type===ks&&(a.el=o.el)}}function Zf(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const eh=t=>t.__isTeleport,Xn=t=>t&&(t.disabled||t.disabled===""),na=t=>typeof SVGElement<"u"&&t instanceof SVGElement,wi=(t,e)=>{const n=t&&t.to;return Oe(n)?e?e(n):null:n},th={__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:f,pbc:h,o:{insert:d,querySelector:v,createText:m,createComment:S}}=l,y=Xn(e.props);let{shapeFlag:_,children:x,dynamicChildren:E}=e;if(t==null){const D=e.el=m(""),V=e.anchor=m("");d(D,n,r),d(V,n,r);const q=e.target=wi(e.props,v),C=e.targetAnchor=m("");q&&(d(C,q),o=o||na(q));const k=(H,L)=>{_&16&&u(x,H,L,s,i,o,a,c)};y?k(n,V):q&&k(q,C)}else{e.el=t.el;const D=e.anchor=t.anchor,V=e.target=t.target,q=e.targetAnchor=t.targetAnchor,C=Xn(t.props),k=C?n:V,H=C?D:q;if(o=o||na(V),E?(h(t.dynamicChildren,E,k,s,i,o,a),fo(t,e,!0)):c||f(t,e,k,H,s,i,o,a,!1),y)C||Dr(e,n,D,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=wi(e.props,v);L&&Dr(e,L,null,l,0)}else C&&Dr(e,V,q,l,1)}al(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:f,props:h}=t;if(f&&i(u),(o||!Xn(h))&&(i(l),a&16))for(let d=0;d<c.length;d++){const v=c[d];s(v,e,n,!0,!!v.dynamicChildren)}},move:Dr,hydrate:nh};function Dr(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=i===2;if(f&&r(o,e,n),(!f||Xn(u))&&c&16)for(let h=0;h<l.length;h++)s(l[h],e,n,2);f&&r(a,e,n)}function nh(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=wi(e.props,c);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Xn(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=f;else{e.anchor=o(t);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(f,e,u,n,r,s,i)}al(e)}return e.anchor&&o(e.anchor)}const rh=th;function al(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Je=Symbol.for("v-fgt"),ks=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),Xr=Symbol.for("v-stc"),Zn=[];let ut=null;function ce(t=!1){Zn.push(ut=t?null:[])}function sh(){Zn.pop(),ut=Zn[Zn.length-1]||null}let vr=1;function ra(t){vr+=t}function cl(t){return t.dynamicChildren=vr>0?ut||mn:null,sh(),vr>0&&ut&&ut.push(t),t}function De(t,e,n,r,s,i){return cl(Ce(t,e,n,r,s,i,!0))}function ze(t,e,n,r,s){return cl(ye(t,e,n,r,s,!0))}function fs(t){return t?t.__v_isVNode===!0:!1}function Yt(t,e){return t.type===e.type&&t.key===e.key}const Ps="__vInternal",ll=({key:t})=>t??null,Zr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Oe(t)||Ae(t)||ne(t)?{i:Le,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,s=null,i=t===Je?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ll(e),ref:e&&Zr(e),scopeId:As,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Le};return a?(ho(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Oe(n)?8:16),vr>0&&!o&&ut&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ut.push(c),c}const ye=ih;function ih(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Xc)&&(t=rt),fs(t)){const a=Ht(t,e,!0);return n&&ho(a,n),vr>0&&!i&&ut&&(a.shapeFlag&6?ut[ut.indexOf(t)]=a:ut.push(a)),a.patchFlag|=-2,a}if(mh(t)&&(t=t.__vccOpts),e){e=oh(e);let{class:a,style:c}=e;a&&!Oe(a)&&(e.class=xt(a)),be(c)&&(Pc(c)&&!Y(c)&&(c=Re({},c)),e.style=xr(c))}const o=Oe(t)?1:Sf(t)?128:eh(t)?64:be(t)?4:ne(t)?2:0;return Ce(t,e,n,r,s,o,i,!0)}function oh(t){return t?Pc(t)||Ps in t?Re({},t):t:null}function Ht(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?ch(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ll(a),ref:e&&e.ref?n&&s?Y(s)?s.concat(Zr(e)):[s,Zr(e)]:Zr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Je?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ht(t.ssContent),ssFallback:t.ssFallback&&Ht(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function es(t=" ",e=0){return ye(ks,null,t,e)}function ah(t,e){const n=ye(Xr,null,t);return n.staticCount=e,n}function wn(t="",e=!1){return e?(ce(),ze(rt,null,t)):ye(rt,null,t)}function vt(t){return t==null||typeof t=="boolean"?ye(rt):Y(t)?ye(Je,null,t.slice()):typeof t=="object"?It(t):ye(ks,null,String(t))}function It(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ht(t)}function ho(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Y(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ho(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Ps in e)?e._ctx=Le:s===3&&Le&&(Le.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ne(e)?(e={default:e,_ctx:Le},n=32):(e=String(e),r&64?(n=16,e=[es(e)]):n=8);t.children=e,t.shapeFlag|=n}function ch(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=xt([e.class,r.class]));else if(s==="style")e.style=xr([e.style,r.style]);else if(_s(s)){const i=e[s],o=r[s];o&&i!==o&&!(Y(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function pt(t,e,n,r=null){nt(t,e,7,[n,r])}const lh=tl();let uh=0;function fh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||lh,i={uid:uh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new mc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rl(r,s),emitsOptions:qc(r,s),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:r.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=mf.bind(null,i),t.ce&&t.ce(i),i}let Pe=null;const ul=()=>Pe||Le;let po,an,sa="__VUE_INSTANCE_SETTERS__";(an=fi()[sa])||(an=fi()[sa]=[]),an.push(t=>Pe=t),po=t=>{an.length>1?an.forEach(e=>e(t)):an[0](t)};const xn=t=>{po(t),t.scope.on()},rn=()=>{Pe&&Pe.scope.off(),po(null)};function fl(t){return t.vnode.shapeFlag&4}let gr=!1;function hh(t,e=!1){gr=e;const{props:n,children:r}=t.vnode,s=fl(t);Vf(t,n,s,e),Wf(t,r);const i=s?dh(t,e):void 0;return gr=!1,i}function dh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ts(new Proxy(t.ctx,Nf));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?vh(t):null;xn(t),$n();const i=Bt(r,t,0,[t.props,s]);if(kn(),rn(),fc(i)){if(i.then(rn,rn),e)return i.then(o=>{ia(t,o,e)}).catch(o=>{Os(o,t,0)});t.asyncDep=i}else ia(t,i,e)}else hl(t,e)}function ia(t,e,n){ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:be(e)&&(t.setupState=Nc(e)),hl(t,n)}let oa;function hl(t,e,n){const r=t.type;if(!t.render){if(!e&&oa&&!r.render){const s=r.template||lo(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=Re(Re({isCustomElement:i,delimiters:a},o),c);r.render=oa(s,l)}}t.render=r.render||ft}xn(t),$n(),Mf(t),kn(),rn()}function ph(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ge(t,"get","$attrs"),e[n]}}))}function vh(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return ph(t)},slots:t.slots,emit:t.emit,expose:e}}function Is(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Nc(Ts(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Qn)return Qn[n](t)},has(e,n){return n in e||n in Qn}}))}function gh(t,e=!0){return ne(t)?t.displayName||t.name:t.name||e&&t.__name}function mh(t){return ne(t)&&"__vccOpts"in t}const fe=(t,e)=>ff(t,e,gr);function vo(t,e,n){const r=arguments.length;return r===2?be(e)&&!Y(e)?fs(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fs(n)&&(n=[n]),ye(t,e,n))}const yh=Symbol.for("v-scx"),_h=()=>mt(yh),bh="3.3.4",wh="http://www.w3.org/2000/svg",Qt=typeof document<"u"?document:null,aa=Qt&&Qt.createElement("template"),Sh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Qt.createElementNS(wh,t):Qt.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Qt.createTextNode(t),createComment:t=>Qt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{aa.innerHTML=r?`<svg>${t}</svg>`:t;const a=aa.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Eh(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function xh(t,e,n){const r=t.style,s=Oe(n);if(n&&!s){if(e&&!Oe(e))for(const i in e)n[i]==null&&Si(r,i,"");for(const i in n)Si(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const ca=/\s*!important$/;function Si(t,e,n){if(Y(n))n.forEach(r=>Si(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Th(t,e);ca.test(n)?t.setProperty(Rn(r),n.replace(ca,""),"important"):t[r]=n}}const la=["Webkit","Moz","ms"],Ws={};function Th(t,e){const n=Ws[e];if(n)return n;let r=yt(e);if(r!=="filter"&&r in t)return Ws[e]=r;r=Ss(r);for(let s=0;s<la.length;s++){const i=la[s]+r;if(i in t)return Ws[e]=i}return e}const ua="http://www.w3.org/1999/xlink";function Oh(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ua,e.slice(6,e.length)):t.setAttributeNS(ua,e,n);else{const i=Cu(e);n==null||i&&!pc(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Ch(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=pc(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Xt(t,e,n,r){t.addEventListener(e,n,r)}function Ah(t,e,n,r){t.removeEventListener(e,n,r)}function Rh(t,e,n,r,s=null){const i=t._vei||(t._vei={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=$h(e);if(r){const l=i[e]=Ih(r,s);Xt(t,a,l,c)}else o&&(Ah(t,a,o,c),i[e]=void 0)}}const fa=/(?:Once|Passive|Capture)$/;function $h(t){let e;if(fa.test(t)){e={};let r;for(;r=t.match(fa);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rn(t.slice(2)),e]}let Ys=0;const kh=Promise.resolve(),Ph=()=>Ys||(kh.then(()=>Ys=0),Ys=Date.now());function Ih(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nt(jh(r,n.value),e,5,[r])};return n.value=t,n.attached=Ph(),n}function jh(t,e){if(Y(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const ha=/^on[a-z]/,Lh=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?Eh(t,r,s):e==="style"?xh(t,n,r):_s(e)?zi(e)||Rh(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Dh(t,e,r,s))?Ch(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Oh(t,e,r,s))};function Dh(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&ha.test(e)&&ne(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ha.test(e)&&Oe(n)?!1:e in t}const At="transition",Dn="animation",js=(t,{slots:e})=>vo(Of,pl(t),e);js.displayName="Transition";const dl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nh=js.props=Re({},Vc,dl),Jt=(t,e=[])=>{Y(t)?t.forEach(n=>n(...e)):t&&t(...e)},da=t=>t?Y(t)?t.some(e=>e.length>1):t.length>1:!1;function pl(t){const e={};for(const P in t)P in dl||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,v=Mh(s),m=v&&v[0],S=v&&v[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:x,onLeave:E,onLeaveCancelled:D,onBeforeAppear:V=y,onAppear:q=_,onAppearCancelled:C=x}=e,k=(P,Z,w)=>{kt(P,Z?u:a),kt(P,Z?l:o),w&&w()},H=(P,Z)=>{P._isLeaving=!1,kt(P,f),kt(P,d),kt(P,h),Z&&Z()},L=P=>(Z,w)=>{const R=P?q:_,N=()=>k(Z,P,w);Jt(R,[Z,N]),pa(()=>{kt(Z,P?c:i),bt(Z,P?u:a),da(R)||va(Z,r,m,N)})};return Re(e,{onBeforeEnter(P){Jt(y,[P]),bt(P,i),bt(P,o)},onBeforeAppear(P){Jt(V,[P]),bt(P,c),bt(P,l)},onEnter:L(!1),onAppear:L(!0),onLeave(P,Z){P._isLeaving=!0;const w=()=>H(P,Z);bt(P,f),gl(),bt(P,h),pa(()=>{P._isLeaving&&(kt(P,f),bt(P,d),da(E)||va(P,r,S,w))}),Jt(E,[P,w])},onEnterCancelled(P){k(P,!1),Jt(x,[P])},onAppearCancelled(P){k(P,!0),Jt(C,[P])},onLeaveCancelled(P){H(P),Jt(D,[P])}})}function Mh(t){if(t==null)return null;if(be(t))return[Qs(t.enter),Qs(t.leave)];{const e=Qs(t);return[e,e]}}function Qs(t){return wu(t)}function bt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function kt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function pa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Fh=0;function va(t,e,n,r){const s=t._endId=++Fh,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=vl(t,e);if(!o)return r();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,h),i()},h=d=>{d.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,h)}function vl(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),s=r(`${At}Delay`),i=r(`${At}Duration`),o=ga(s,i),a=r(`${Dn}Delay`),c=r(`${Dn}Duration`),l=ga(a,c);let u=null,f=0,h=0;e===At?o>0&&(u=At,f=o,h=i.length):e===Dn?l>0&&(u=Dn,f=l,h=c.length):(f=Math.max(o,l),u=f>0?o>l?At:Dn:null,h=u?u===At?i.length:c.length:0);const d=u===At&&/\b(transform|all)(,|$)/.test(r(`${At}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function ga(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>ma(n)+ma(t[r])))}function ma(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function gl(){return document.body.offsetHeight}const ml=new WeakMap,yl=new WeakMap,_l={name:"TransitionGroup",props:Re({},Nh,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ul(),r=Kc();let s,i;return Yc(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!zh(s[0].el,n.vnode.el,o))return;s.forEach(Bh),s.forEach(qh);const a=s.filter(Hh);gl(),a.forEach(c=>{const l=c.el,u=l.style;bt(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=l._moveCb=h=>{h&&h.target!==l||(!h||/transform$/.test(h.propertyName))&&(l.removeEventListener("transitionend",f),l._moveCb=null,kt(l,o))};l.addEventListener("transitionend",f)})}),()=>{const o=ie(t),a=pl(o);let c=o.tag||Je;s=i,i=e.default?ro(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&dr(u,hr(u,a,r,n))}if(s)for(let l=0;l<s.length;l++){const u=s[l];dr(u,hr(u,a,r,n)),ml.set(u,u.el.getBoundingClientRect())}return ye(c,null,i)}}},Uh=t=>delete t.mode;_l.props;const l_=_l;function Bh(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function qh(t){yl.set(t,t.el.getBoundingClientRect())}function Hh(t){const e=ml.get(t),n=yl.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function zh(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:i}=vl(r);return s.removeChild(r),i}const hs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?n=>Yr(e,n):e};function Kh(t){t.target.composing=!0}function ya(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const u_={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t._assign=hs(s);const i=r||s.props&&s.props.type==="number";Xt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ui(a)),t._assign(a)}),n&&Xt(t,"change",()=>{t.value=t.value.trim()}),e||(Xt(t,"compositionstart",Kh),Xt(t,"compositionend",ya),Xt(t,"change",ya))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t._assign=hs(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&ui(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},f_={deep:!0,created(t,e,n){t._assign=hs(n),Xt(t,"change",()=>{const r=t._modelValue,s=Vh(t),i=t.checked,o=t._assign;if(Y(r)){const a=vc(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(bs(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(bl(t,i))})},mounted:_a,beforeUpdate(t,e,n){t._assign=hs(n),_a(t,e,n)}};function _a(t,{value:e,oldValue:n},r){t._modelValue=e,Y(e)?t.checked=vc(e,r.props.value)>-1:bs(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Es(e,bl(t,!0)))}function Vh(t){return"_value"in t?t._value:t.value}function bl(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Jh=["ctrl","shift","alt","meta"],Gh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jh.some(n=>t[`${n}Key`]&&!e.includes(n))},h_=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=Gh[e[s]];if(i&&i(n,e))return}return t(n,...r)},d_={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Nn(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Nn(t,!0),r.enter(t)):r.leave(t,()=>{Nn(t,!1)}):Nn(t,e))},beforeUnmount(t,{value:e}){Nn(t,e)}};function Nn(t,e){t.style.display=e?t._vod:"none"}const Wh=Re({patchProp:Lh},Sh);let ba;function Yh(){return ba||(ba=Qf(Wh))}const Qh=(...t)=>{const e=Yh().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Xh(r);if(!s)return;const i=e._component;!ne(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Xh(t){return Oe(t)?document.querySelector(t):t}const Zh={name:"TheMain"};const Ke=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function ed(t,e,n,r,s,i){const o=ao("RouterView");return ce(),De("main",null,[ye(o)])}const td=Ke(Zh,[["render",ed],["__scopeId","data-v-06b2f6bd"]]),nd={name:"BaseDropdownMenu"};const rd={class:"dropdown-menu"};function sd(t,e,n,r,s,i){return ce(),De("div",rd,[zt(t.$slots,"default",{},void 0,!0)])}const go=Ke(nd,[["render",sd],["__scopeId","data-v-a1741077"]]),id={name:"BaseButton",props:{mode:{type:String,default:""}},computed:{flatClass(){return/flat/.test(this.mode)?"flat":""},roundedClass(){return/rounded/.test(this.mode)?"rounded":""},squareClass(){return/square/.test(this.mode)?"square":""}}};function od(t,e,n,r,s,i){return ce(),De("button",{type:"button",class:xt(`${i.flatClass} ${i.roundedClass} ${i.squareClass}`)},[zt(t.$slots,"default",{},void 0,!0)],2)}const Ar=Ke(id,[["render",od],["__scopeId","data-v-043a7ff7"]]),ad={viewBox:"0 0 24 24",width:"2em",height:"2em"},cd=Ce("path",{fill:"currentColor",d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},null,-1),ld=[cd];function ud(t,e){return ce(),De("svg",ad,ld)}const fd={name:"ic-baseline-menu",render:ud},hd={name:"BaseRouterLink",props:{mode:{type:String,default:""},color:{type:String,default:""},to:{type:[String,Object],default:""}},computed:{flatClass(){return this.mode==="flat"?"flat":""},roundedClass(){return this.mode==="rounded"?"rounded":""},sharpClass(){return this.mode==="sharp"?"sharp":""},orangeClass(){return this.color==="orange"?"orange":""}}};function dd(t,e,n,r,s,i){const o=ao("RouterLink");return ce(),ze(o,{to:n.to,class:xt(`${i.flatClass} ${i.roundedClass} ${i.sharpClass} ${i.orangeClass}`)},{default:Xe(()=>[zt(t.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])}const wl=Ke(hd,[["render",dd],["__scopeId","data-v-a2a59462"]]);var pd=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Sl;const Ls=t=>Sl=t,El=Symbol();function Ei(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var er;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(er||(er={}));function vd(){const t=yc(!0),e=t.run(()=>sn({}));let n=[],r=[];const s=Ts({install(i){Ls(s),s._a=i,i.provide(El,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!pd?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const xl=()=>{};function wa(t,e,n,r=xl){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&_c()&&$u(s),s}function cn(t,...e){t.slice().forEach(n=>{n(...e)})}const gd=t=>t();function xi(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Ei(s)&&Ei(r)&&t.hasOwnProperty(n)&&!Ae(r)&&!Ut(r)?t[n]=xi(s,r):t[n]=r}return t}const md=Symbol();function yd(t){return!Ei(t)||!t.hasOwnProperty(md)}const{assign:Pt}=Object;function _d(t){return!!(Ae(t)&&t.effect)}function bd(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=af(n.state.value[t]);return Pt(u,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=Ts(fe(()=>{Ls(n);const d=n._s.get(t);return o[h].call(d,d)})),f),{}))}return c=Tl(t,l,e,n,r,!0),c}function Tl(t,e,n={},r,s,i){let o;const a=Pt({actions:{}},n),c={deep:!0};let l,u,f=[],h=[],d;const v=r.state.value[t];!i&&!v&&(r.state.value[t]={}),sn({});let m;function S(C){let k;l=u=!1,typeof C=="function"?(C(r.state.value[t]),k={type:er.patchFunction,storeId:t,events:d}):(xi(r.state.value[t],C),k={type:er.patchObject,payload:C,storeId:t,events:d});const H=m=Symbol();to().then(()=>{m===H&&(l=!0)}),u=!0,cn(f,k,r.state.value[t])}const y=i?function(){const{state:k}=n,H=k?k():{};this.$patch(L=>{Pt(L,H)})}:xl;function _(){o.stop(),f=[],h=[],r._s.delete(t)}function x(C,k){return function(){Ls(r);const H=Array.from(arguments),L=[],P=[];function Z(N){L.push(N)}function w(N){P.push(N)}cn(h,{args:H,name:C,store:D,after:Z,onError:w});let R;try{R=k.apply(this&&this.$id===t?this:D,H)}catch(N){throw cn(P,N),N}return R instanceof Promise?R.then(N=>(cn(L,N),N)).catch(N=>(cn(P,N),Promise.reject(N))):(cn(L,R),R)}}const E={_p:r,$id:t,$onAction:wa.bind(null,h),$patch:S,$reset:y,$subscribe(C,k={}){const H=wa(f,C,k.detached,()=>L()),L=o.run(()=>Wn(()=>r.state.value[t],P=>{(k.flush==="sync"?u:l)&&C({storeId:t,type:er.direct,events:d},P)},Pt({},c,k)));return H},$dispose:_},D=Tr(E);r._s.set(t,D);const V=r._a&&r._a.runWithContext||gd,q=r._e.run(()=>(o=yc(),V(()=>o.run(e))));for(const C in q){const k=q[C];if(Ae(k)&&!_d(k)||Ut(k))i||(v&&yd(k)&&(Ae(k)?k.value=v[C]:xi(k,v[C])),r.state.value[t][C]=k);else if(typeof k=="function"){const H=x(C,k);q[C]=H,a.actions[C]=k}}return Pt(D,q),Pt(ie(D),q),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:C=>{S(k=>{Pt(k,C)})}}),r._p.forEach(C=>{Pt(D,o.run(()=>C({store:D,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(D.$state,v),l=!0,u=!0,D}function Ds(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=Kf();return a=a||(l?mt(El,null):null),a&&Ls(a),a=Sl,a._s.has(r)||(i?Tl(r,e,s,a):bd(r,s,a)),a._s.get(r)}return o.$id=r,o}const wd="modulepreload",Sd=function(t){return"/findACoach/"+t},Sa={},qe=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Sd(i),i in Sa)return;Sa[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":wd,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Ed=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const xd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ed(void 0,void 0,void 0,function*(){return yield(yield qe(()=>Promise.resolve().then(()=>Ns),void 0)).fetch(...n)}):e=fetch,(...n)=>e(...n)};class mo extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Td extends mo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Od extends mo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cd extends mo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ad=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Rd{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=xd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ad(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(d=>{throw new Td(d)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new Od(l);if(!l.ok)throw new Cd(l);let f=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield l.json():f==="application/octet-stream"?h=yield l.blob():f==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ti={exports:{}};(function(t,e){var n=typeof self<"u"?self:$d,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(w){return w&&DataView.prototype.isPrototypeOf(w)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(w){return w&&l.indexOf(Object.prototype.toString.call(w))>-1};function f(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(w))throw new TypeError("Invalid character in header field name");return w.toLowerCase()}function h(w){return typeof w!="string"&&(w=String(w)),w}function d(w){var R={next:function(){var N=w.shift();return{done:N===void 0,value:N}}};return a.iterable&&(R[Symbol.iterator]=function(){return R}),R}function v(w){this.map={},w instanceof v?w.forEach(function(R,N){this.append(N,R)},this):Array.isArray(w)?w.forEach(function(R){this.append(R[0],R[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(R){this.append(R,w[R])},this)}v.prototype.append=function(w,R){w=f(w),R=h(R);var N=this.map[w];this.map[w]=N?N+", "+R:R},v.prototype.delete=function(w){delete this.map[f(w)]},v.prototype.get=function(w){return w=f(w),this.has(w)?this.map[w]:null},v.prototype.has=function(w){return this.map.hasOwnProperty(f(w))},v.prototype.set=function(w,R){this.map[f(w)]=h(R)},v.prototype.forEach=function(w,R){for(var N in this.map)this.map.hasOwnProperty(N)&&w.call(R,this.map[N],N,this)},v.prototype.keys=function(){var w=[];return this.forEach(function(R,N){w.push(N)}),d(w)},v.prototype.values=function(){var w=[];return this.forEach(function(R){w.push(R)}),d(w)},v.prototype.entries=function(){var w=[];return this.forEach(function(R,N){w.push([N,R])}),d(w)},a.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function m(w){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}function S(w){return new Promise(function(R,N){w.onload=function(){R(w.result)},w.onerror=function(){N(w.error)}})}function y(w){var R=new FileReader,N=S(R);return R.readAsArrayBuffer(w),N}function _(w){var R=new FileReader,N=S(R);return R.readAsText(w),N}function x(w){for(var R=new Uint8Array(w),N=new Array(R.length),G=0;G<R.length;G++)N[G]=String.fromCharCode(R[G]);return N.join("")}function E(w){if(w.slice)return w.slice(0);var R=new Uint8Array(w.byteLength);return R.set(new Uint8Array(w)),R.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(w){this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:a.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:a.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():a.arrayBuffer&&a.blob&&c(w)?(this._bodyArrayBuffer=E(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||u(w))?this._bodyArrayBuffer=E(w):this._bodyText=w=Object.prototype.toString.call(w):this._bodyText="",this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var w=m(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var w=m(this);if(w)return w;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(w){var R=w.toUpperCase();return V.indexOf(R)>-1?R:w}function C(w,R){R=R||{};var N=R.body;if(w instanceof C){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,R.headers||(this.headers=new v(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!N&&w._bodyInit!=null&&(N=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new v(R.headers)),this.method=q(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function k(w){var R=new FormData;return w.trim().split("&").forEach(function(N){if(N){var G=N.split("="),J=G.shift().replace(/\+/g," "),ee=G.join("=").replace(/\+/g," ");R.append(decodeURIComponent(J),decodeURIComponent(ee))}}),R}function H(w){var R=new v,N=w.replace(/\r?\n[\t ]+/g," ");return N.split(/\r?\n/).forEach(function(G){var J=G.split(":"),ee=J.shift().trim();if(ee){var Me=J.join(":").trim();R.append(ee,Me)}}),R}D.call(C.prototype);function L(w,R){R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new v(R.headers),this.url=R.url||"",this._initBody(w)}D.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},L.error=function(){var w=new L(null,{status:0,statusText:""});return w.type="error",w};var P=[301,302,303,307,308];L.redirect=function(w,R){if(P.indexOf(R)===-1)throw new RangeError("Invalid status code");return new L(null,{status:R,headers:{location:w}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(R,N){this.message=R,this.name=N;var G=Error(R);this.stack=G.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Z(w,R){return new Promise(function(N,G){var J=new C(w,R);if(J.signal&&J.signal.aborted)return G(new o.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function Me(){ee.abort()}ee.onload=function(){var ge={status:ee.status,statusText:ee.statusText,headers:H(ee.getAllResponseHeaders()||"")};ge.url="responseURL"in ee?ee.responseURL:ge.headers.get("X-Request-URL");var $e="response"in ee?ee.response:ee.responseText;N(new L($e,ge))},ee.onerror=function(){G(new TypeError("Network request failed"))},ee.ontimeout=function(){G(new TypeError("Network request failed"))},ee.onabort=function(){G(new o.DOMException("Aborted","AbortError"))},ee.open(J.method,J.url,!0),J.credentials==="include"?ee.withCredentials=!0:J.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&a.blob&&(ee.responseType="blob"),J.headers.forEach(function(ge,$e){ee.setRequestHeader($e,ge)}),J.signal&&(J.signal.addEventListener("abort",Me),ee.onreadystatechange=function(){ee.readyState===4&&J.signal.removeEventListener("abort",Me)}),ee.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return Z.polyfill=!0,i.fetch||(i.fetch=Z,i.Headers=v,i.Request=C,i.Response=L),o.Headers=v,o.Request=C,o.Response=L,o.fetch=Z,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Ti,Ti.exports);var yo=Ti.exports;const _o=kd(yo),Ns=pu({__proto__:null,default:_o},[yo]);class Pd{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_o:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,f=null,h=i.status,d=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,d="OK")}catch{i.status===404&&m===""?(h=204,d="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("Results contain 0 rows"))&&(l=null,h=200,d="OK"),l&&this.shouldThrowOnError)throw l}return{error:l,data:u,count:f,status:h,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}}class Id extends Pd{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:r}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class pn extends Id{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=n.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}}class jd{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new pn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new pn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new pn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new pn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new pn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Ld="1.8.0",Dd={"X-Client-Info":`postgrest-js/${Ld}`};class bo{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dd),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new jd(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(i="HEAD",Object.entries(n).forEach(([l,u])=>{o.searchParams.append(l,`${u}`)})):(i="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new pn({method:i,url:o,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}var Xs,Ea;function Nd(){if(Ea)return Xs;Ea=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Xs=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),Xs}const Md="websocket",Fd="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Ud=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Bd="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",qd=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Hd="1.0.34",zd={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Kd="https://github.com/theturtle32/WebSocket-Node",Vd={node:">=4.0.0"},Jd={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Gd={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Wd={verbose:!1},Yd={test:"tape test/unit/*.js",gulp:"gulp"},Qd="index",Xd={lib:"./lib"},Zd="lib/browser.js",ep="Apache-2.0",tp={name:Md,description:Fd,keywords:Ud,author:Bd,contributors:qd,version:Hd,repository:zd,homepage:Kd,engines:Vd,dependencies:Jd,devDependencies:Gd,config:Wd,scripts:Yd,main:Qd,directories:Xd,browser:Zd,license:ep};var np=tp.version,Zt;if(typeof globalThis=="object")Zt=globalThis;else try{Zt=Nd()}catch{}finally{if(!Zt&&typeof window<"u"&&(Zt=window),!Zt)throw new Error("Could not determine global this")}var mr=Zt.WebSocket||Zt.MozWebSocket,rp=np;function Ol(t,e){var n;return e?n=new mr(t,e):n=new mr(t),n}mr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(Ol,t,{get:function(){return mr[t]}})});var sp={w3cwebsocket:mr?Ol:null,version:rp};const ip="2.7.3",op={"X-Client-Info":`realtime-js/${ip}`},ap="1.0.0",Cl=1e4,cp=1e3;var tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tr||(tr={}));var Ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ye||(Ye={}));var ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ct||(ct={}));var Oi;(function(t){t.websocket="websocket"})(Oi||(Oi={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class Al{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class lp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class Zs{constructor(e,n,r={},s=Cl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xa||(xa={}));class nr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=nr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const f=i[l];if(f){const h=u.map(S=>S.presence_ref),d=f.map(S=>S.presence_ref),v=u.filter(S=>d.indexOf(S.presence_ref)<0),m=f.filter(S=>h.indexOf(S.presence_ref)<0);v.length>0&&(a[l]=v),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const f=e[a].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Ta=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=up(o,t,e,s),i),{})},up=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Rl(i,o):Ci(o)},Rl=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pp(e,n)}switch(t){case Se.bool:return fp(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return hp(e);case Se.json:case Se.jsonb:return dp(e);case Se.timestamp:return vp(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Ci(e);default:return Ci(e)}},Ci=t=>t,fp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pp=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rl(e,a))}return t},vp=t=>typeof t=="string"?t.replace(" ","T"):t;var Oa=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ca;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ca||(Ca={}));var Aa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Aa||(Aa={}));var Ra;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));class wo{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zs(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new nr(this)}subscribe(e,n=this.timeout){var r,s;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,h=(u=f==null?void 0:f.length)!==null&&u!==void 0?u:0,d=[];for(let v=0;v<h;v++){const m=f[v],{filter:{event:S,schema:y,table:_,filter:x}}=m,E=l&&l[v];if(E&&E.event===S&&E.schema===y&&E.table===_&&E.filter===x)d.push(Object.assign(Object.assign({},m),{id:E.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=d,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,n={}){return Oa(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(e={}){return Oa(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(e,n={}){return new Promise(r=>{var s,i,o;const a=this._push(e.type,e,n.timeout||this.timeout);a.rateLimited&&r("rate limited"),e.type==="broadcast"&&!(!((o=(i=(s=this.params)===null||s===void 0?void 0:s.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Zs(this,ct.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zs(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ct;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(d=>{var v,m,S;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(m=d.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(d=>d.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var v,m,S,y,_,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const E=d.id,D=(v=d.filter)===null||v===void 0?void 0:v.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const E=(_=(y=d==null?void 0:d.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:S,commit_timestamp:y,type:_,errors:x}=v;h=Object.assign(Object.assign({},{schema:m,table:S,commit_timestamp:y,eventType:_,new:{},old:{},errors:x}),this._getPayloadRecords(v))}d.callback(h,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wo.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ct.close,{},e)}_onError(e){this._on(ct.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ta(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ta(e.columns,e.old_record)),n}}var ei=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const gp=()=>{};class mp{constructor(e,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=op,this.params={},this.timeout=Cl,this.transport=sp.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gp,this.conn=null,this.sendBuffer=[],this.serializer=new lp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Oi.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Al(()=>ei(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return ei(this,void 0,void 0,function*(){const n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return ei(this,void 0,void 0,function*(){const e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return en.Connecting;case tr.open:return en.Open;case tr.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}channel(e,n={config:{}}){this.isConnected()||this.connect();const r=new wo(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e;let o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};if(this.log("push",`${n} ${r} (${i})`,s),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(ct.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ap}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ct.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(cp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),n>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n)),!1)}}class So extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yp extends So{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $a extends So{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $l=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const kl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$l(void 0,void 0,void 0,function*(){return yield(yield qe(()=>Promise.resolve().then(()=>Ns),void 0)).fetch(...n)}):e=fetch,(...n)=>e(...n)},_p=()=>$l(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qe(()=>Promise.resolve().then(()=>Ns),void 0)).Response:Response});var Pn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const ti=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bp=(t,e)=>Pn(void 0,void 0,void 0,function*(){const n=yield _p();t instanceof n?t.json().then(r=>{e(new yp(ti(r),t.status||500))}).catch(r=>{e(new $a(ti(r),r))}):e(new $a(ti(t),t))}),wp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function Ms(t,e,n,r,s,i){return Pn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,wp(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>bp(c,a))})})}function Ai(t,e,n,r){return Pn(this,void 0,void 0,function*(){return Ms(t,"GET",e,n,r)})}function jt(t,e,n,r,s){return Pn(this,void 0,void 0,function*(){return Ms(t,"POST",e,r,s,n)})}function Sp(t,e,n,r,s){return Pn(this,void 0,void 0,function*(){return Ms(t,"PUT",e,r,s,n)})}function Pl(t,e,n,r,s){return Pn(this,void 0,void 0,function*(){return Ms(t,"DELETE",e,r,s,n)})}var et=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Ep={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ka={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xp{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=kl(s)}uploadOrUpdate(e,n,r,s){return et(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ka),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(n),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:c},error:null}:{data:null,error:yield u.json()}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}upload(e,n,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:ka.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u});return f.ok?{data:{path:i},error:null}:{data:null,error:yield f.json()}}catch(c){if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new So("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}update(e,n,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return et(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}copy(e,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return et(this,void 0,void 0,function*(){try{const s=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}download(e,n){return et(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}list(e,n,r){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ep),n),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Tp="2.5.1",Op={"X-Client-Info":`storage-js/${Tp}`};var ln=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Cp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Op),n),this.fetch=kl(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ue(e))return{data:null,error:e};throw e}})}getBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}}class Ap extends Cp{constructor(e,n={},r){super(e,n,r)}from(e){return new xp(this.url,this.headers,e,this.fetch)}}const Rp="2.31.0",$p={"X-Client-Info":`supabase-js/${Rp}`};var kp=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Pp=t=>{let e;return t?e=t:typeof fetch>"u"?e=_o:e=fetch,(...n)=>e(...n)},Ip=()=>typeof Headers>"u"?yo.Headers:Headers,jp=(t,e,n)=>{const r=Pp(n),s=Ip();return(i,o)=>kp(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};function Lp(t){return t.replace(/\/$/,"")}function Dp(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i)}}function Np(t){return Math.round(Date.now()/1e3)+t}function Mp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const wt=()=>typeof document<"u",Gt={tested:!1,writable:!1},ts=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function ni(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Il=t=>{let e;return t?e=t:typeof fetch>"u"?e=async(...n)=>await(await qe(()=>Promise.resolve().then(()=>Ns),void 0)).fetch(...n):e=fetch,(...n)=>e(...n)},Fp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Nr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ri=async(t,e)=>{await t.removeItem(e)};function Up(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Fs{constructor(){this.promise=new Fs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Fs.promiseConstructor=Promise;function Pa(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Up(r))}async function jl(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function qp(t){return("0"+t.toString(16)).substr(-2)}function Mr(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,qp).join("")}async function Hp(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function zp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(t){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await Hp(t);return zp(e)}const Kp="__stack_guard__",Vp="__",Jp=/__stack_guard__([a-zA-Z0-9_-]+)__/;let Ri=!1,Us,$i=!1;function Hn(t){var e,n;Us();let r;try{throw new Error}catch(i){r=i}const s=(n=(e=r.stack)===null||e===void 0?void 0:e.split(`
`))!==null&&n!==void 0?n:[];for(let i=0;i<s.length;i+=1){const a=s[i].match(Jp);if(a&&a[1]===t)return!0}return!1}async function ns(t,e){await Us();const n=`${Kp}${t}${Vp}`,r={[n]:async()=>await e()};return Object.assign(r[n],{displayName:n}),await r[n]()}async function Ia(){return Ri||await Us(),$i}let ja=!1;Us=async()=>{Ri||(Ri=!0,await ns("ENV_CHECK",async()=>{await jl(0);const t=Hn("ENV_CHECK");return $i=t,!t&&!ja&&(ja=!0,console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces. Safari is known to not support stack guards.")),t}))};class Eo extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gp extends Eo{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Wp(t){return oe(t)&&t.name==="AuthApiError"}class Ll extends Eo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class In extends Eo{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class un extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class si extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ur extends In{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Br extends In{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class La extends In{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ki extends In{constructor(e,n){super(e,"AuthRetryableFetchError",n)}}function Da(t){return oe(t)&&t.name==="AuthRetryableFetchError"}var Yp=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qp=[502,503,504];async function Na(t){if(!Fp(t))throw new ki(zn(t),0);if(Qp.includes(t.status))throw new ki(zn(t),t.status);let e;try{e=await t.json()}catch(n){throw new Ll(zn(n),n)}throw new Gp(zn(e),t.status||500)}const Xp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function le(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Zp(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Zp(t,e,n,r,s,i){const o=Xp(e,r,s,i);let a;try{a=await t(n,o)}catch(c){throw console.error(c),new ki(zn(c),0)}if(a.ok||await Na(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Na(c)}}function Rt(t){var e;let n=null;rv(t)&&(n=Object.assign({},t),n.expires_at=Np(t.expires_in));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ev(t){return{data:t,error:null}}function tv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Yp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function nv(t){return t}function rv(t){return t.access_token&&t.refresh_token&&t.expires_in}var sv=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class iv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Il(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dt})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=sv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nv});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return d.length>0&&(d.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);l[`${S}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(oe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Dt})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dt})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}const Dl="2.46.1",ov="http://localhost:9999",av="supabase.auth.token",cv={"X-Client-Info":`gotrue-js/${Dl}`},Ma=10,Fa={getItem:t=>ts()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ts()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ts()&&globalThis.localStorage.removeItem(t)}};function lv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}lv();const uv={url:ov,storageKey:av,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cv,flowType:"implicit",debug:!1},qr=30*1e3,Ua=3;async function fv(t,e,n){return await n()}class yr{constructor(e){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=yr.nextInstanceID,yr.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},uv),e);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Fa,this.admin=new iv({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Il(r.fetch),this.lock=r.lock||fv,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Fa&&!ts()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} (${Dl}) ${new Date().toISOString()}`,...e),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=this._acquireLock(-1,async()=>await ns("_initialize",async()=>{try{const e=wt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return oe(e)?{error:e}:{error:new Ll("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}})),await this.initializePromise}async signUp(e){var n,r,s;try{await this._removeSession();let i;if("email"in e){const{email:u,password:f,options:h}=e;let d=null,v=null;if(this.flowType==="pkce"){const m=Mr();await Mn(this.storage,`${this.storageKey}-code-verifier`,m),d=await Fr(m),v=m===d?"plain":"s256"}i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:Rt})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rt})}else throw new Ur("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rt})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rt})}else throw new Ur("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new si}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:s})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){const n=await Nr(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:s}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rt});return await ri(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new si}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:s})}async signInWithIdToken(e){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new si}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:c}=e;let l=null,u=null;if(this.flowType==="pkce"){const h=Mr();await Mn(this.storage,`${this.storageKey}-code-verifier`,h),l=await Fr(h),u=h===l?"plain":"s256"}const{error:f}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ur("You must provide either an email or phone number.")}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{return await this._removeSession(),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:ev})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new un;const{error:s}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ur("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async e=>e)}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{return await Ia()?Hn("_acquireLock")?(this._debug("#_acquireLock","recursive call"),await n()):await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{return await ns("_acquireLock",async()=>await n())}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey)}}):(this._debug("#_acquireLock","Stack guards not supported, so exclusive locking is not performed as it can lead to deadlocks if the lock is attempted to be recursively acquired (as the recursion cannot be detected)."),await n())}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{if(Hn("_useSession")){this._debug("#_useSession","recursive call");const n=await this.__loadSession();return await e(n)}return await this._acquireLock(-1,async()=>await ns("_useSession",async()=>{const n=await this.__loadSession();return await e(n)}))}finally{this._debug("#_useSession","end")}}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Hn("_useSession")&&await Ia())throw new Error("Please use #_useSession()");Hn("_initialize")&&this._debug("#__loadSession","#_initialize recursion detected",new Error().stack),await this.initializePromise;try{let e=null;if(this.persistSession){const i=await Nr(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else e=this.inMemorySession,this._debug("#getSession()","session from memory",e);if(!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Dt})})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new un;const o=s.session,{data:a,error:c}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:e,jwt:o.access_token,xform:Dt});if(c)throw c;return o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Pa(e)}async setSession(e){try{if(!e.access_token||!e.refresh_token)throw new un;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Pa(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this.getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new un;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!wt())throw new Br("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Br("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new La("Not a valid PKCE flow url.");const n=ni(window.location.href);if(e){if(!n.code)throw new La("No code detected.");const{data:m,error:S}=await this.exchangeCodeForSession(n.code);if(S)throw S;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Br(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,token_type:c}=n;if(!i||!a||!o||!c)throw new Br("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(a),f=l+u,{data:h,error:d}=await this.getUser(i);if(d)throw d;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:u,expires_at:f,refresh_token:o,token_type:c,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=ni(window.location.href);return!!(wt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ni(window.location.href),n=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Wp(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=Mp(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;if(this.flowType==="pkce"){const i=Mr();await Mn(this.storage,`${this.storageKey}-code-verifier`,i),r=await Fr(i),s=i===r?"plain":"s256"}try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Bp(async s=>(await jl(s*200),this._debug(n,"refreshing attempt",s),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rt})),(s,i,o)=>o&&o.error&&Da(o.error)&&Date.now()+(s+1)*200-r<qr)}catch(r){if(this._debug(n,"error",r),oe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Nr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Ma;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ma}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Da(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),oe(i)){const o={session:null,error:i};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),Mn(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await ri(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${Ua} ticks`),s<=Ua&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){this._debug(`#_onVisibilityChanged(${e})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?setTimeout(async()=>{e||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()},0):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n){const r=[`provider=${encodeURIComponent(e)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const s=Mr();await Mn(this.storage,`${this.storageKey}-code-verifier`,s);const i=await Fr(s),o=s===i?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",i,"method",o);const a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);r.push(s.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _verify(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _challenge(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}yr.nextInstanceID=0;globalThis&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class hv extends yr{constructor(e){super(e)}}var dv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const pv={headers:$p},vv={schema:"public"},gv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mv={};class yv{constructor(e,n,r){var s,i,o,a,c,l,u,f;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Lp(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:vv,realtime:mv,auth:Object.assign(Object.assign({},gv),{storageKey:d}),global:pv},m=Dp(r??{},v);this.storageKey=(i=(s=m.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(l=m.global)===null||l===void 0?void 0:l.fetch),this.fetch=jp(n,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new bo(`${h}/rest/v1`,{headers:this.headers,schema:(f=m.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Rd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ap(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,n={},r){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dv(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,debug:a},c,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hv({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,debug:a,fetch:l})}_initRealtimeClient(e){return new mp(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _v=(t,e,n)=>new yv(t,e,n),_r=_v("https://dzifvcyyphmndtrfjpfj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR6aWZ2Y3l5cGhtbmR0cmZqcGZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTEzNDU3NzQsImV4cCI6MjAwNjkyMTc3NH0.VmmdHGOSlpEY_gjHKOWhBBTgoR31GFqVD8HlfHbFFEY");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M=function(){return M=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M.apply(this,arguments)};function xo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function se(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Ee(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var _e;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(_e||(_e={}));var Tn;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(Tn||(Tn={}));var Pi=_e.Start,To=_e.Stop,Rr=_e.Raise,Bs=_e.Send,Nl=_e.Cancel,bv=_e.NullEvent,Ml=_e.Assign;_e.After;_e.DoneState;var Fl=_e.Log,wv=_e.Init,Ii=_e.Invoke;_e.ErrorExecution;var Ba=_e.ErrorPlatform,Sv=_e.ErrorCustom,Ul=_e.Update,Ev=_e.Choose,xv=_e.Pure,Bl=".",qa={},ji="xstate.guard",Tv="",Hr;function Oo(t,e,n){n===void 0&&(n=Bl);var r=rr(t,n),s=rr(e,n);return pe(s)?pe(r)?s===r:!1:pe(r)?r in s:Object.keys(r).every(function(i){return i in s?Oo(r[i],s[i]):!1})}function ql(t){try{return pe(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Li(t,e){try{return jn(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function Ov(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function rr(t,e){if(Ov(t))return t.value;if(jn(t))return ds(t);if(typeof t!="string")return t;var n=Li(t,e);return ds(n)}function ds(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Kn(t,e){for(var n={},r=Object.keys(t),s=0;s<r.length;s++){var i=r[s];n[i]=e(t[i],i,t,s)}return n}function Ha(t,e,n){var r,s,i={};try{for(var o=se(Object.keys(t)),a=o.next();!a.done;a=o.next()){var c=a.value,l=t[c];n(l)&&(i[c]=e(l,c,t))}}catch(u){r={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}return i}var Cv=function(t){return function(e){var n,r,s=e;try{for(var i=se(t),o=i.next();!o.done;o=i.next()){var a=o.value;s=s[a]}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}};function Av(t,e){return function(n){var r,s,i=n;try{for(var o=se(t),a=o.next();!a.done;a=o.next()){var c=a.value;i=i[e][c]}}catch(l){r={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}return i}}function rs(t){if(!t)return[[]];if(pe(t))return[[t]];var e=Te(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:rs(t[n]).map(function(s){return[n].concat(s)})}));return e}function Te(t){var e;return(e=[]).concat.apply(e,Ee([],ue(t),!1))}function Hl(t){return jn(t)?t:[t]}function at(t){return t===void 0?[]:Hl(t)}function ps(t,e,n){var r,s;if(he(t))return t(e,n.data);var i={};try{for(var o=se(Object.keys(t)),a=o.next();!a.done;a=o.next()){var c=a.value,l=t[c];he(l)?i[c]=l(e,n.data):i[c]=l}}catch(u){r={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}return i}function Rv(t){return/^(done|error)\./.test(t)}function za(t){return!!(t instanceof Promise||t!==null&&(he(t)||typeof t=="object")&&he(t.then))}function $v(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function kv(t,e){var n,r,s=ue([[],[]],2),i=s[0],o=s[1];try{for(var a=se(t),c=a.next();!c.done;c=a.next()){var l=c.value;e(l)?i.push(l):o.push(l)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[i,o]}function zl(t,e){return Kn(t.states,function(n,r){if(n){var s=(pe(e)?void 0:e[r])||(n?n.current:void 0);if(s)return{current:s,states:zl(n,s)}}})}function Pv(t,e){return{current:e,states:zl(t,e)}}function Ka(t,e,n,r){var s=t&&n.reduce(function(i,o){var a,c,l=o.assignment,u={state:r,action:o,_event:e},f={};if(he(l))f=l(i,e.data,u);else try{for(var h=se(Object.keys(l)),d=h.next();!d.done;d=h.next()){var v=d.value,m=l[v];f[v]=he(m)?m(i,e.data,u):m}}catch(S){a={error:S}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return Object.assign({},i,f)},t);return s}var Iv=function(){};function jn(t){return Array.isArray(t)}function he(t){return typeof t=="function"}function pe(t){return typeof t=="string"}function Kl(t,e){if(t)return pe(t)?{type:ji,name:t,predicate:e?e[t]:void 0}:he(t)?{type:ji,name:t.name,predicate:t}:t}function jv(t){try{return"subscribe"in t&&he(t.subscribe)}catch{return!1}}var Nt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Hr={},Hr[Nt]=function(){return this},Hr[Symbol.observable]=function(){return this};function On(t){return!!t&&"__xstatenode"in t}function Lv(t){return!!t&&typeof t.send=="function"}function qs(t,e){return pe(t)||typeof t=="number"?M({type:t},e):t}function Ne(t,e){if(!pe(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=qs(t);return M({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function fn(t,e){var n=Hl(e).map(function(r){return typeof r>"u"||typeof r=="string"||On(r)?{target:r,event:t}:M(M({},r),{event:t})});return n}function Dv(t){if(!(t===void 0||t===Tv))return at(t)}function Vl(t,e,n,r,s){var i=t.options.guards,o={state:s,cond:e,_event:r};if(e.type===ji)return((i==null?void 0:i[e.name])||e.predicate)(n,r.data,o);var a=i==null?void 0:i[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,r.data,o)}function Jl(t){return typeof t=="string"?{type:t}:t}function sr(t,e,n){var r=function(){},s=typeof t=="object",i=s?t:null;return{next:((s?t.next:t)||r).bind(i),error:((s?t.error:e)||r).bind(i),complete:((s?t.complete:n)||r).bind(i)}}function zr(t,e){return"".concat(t,":invocation[").concat(e,"]")}function Di(t){return(t.type===Rr||t.type===Bs&&t.to===Tn.Internal)&&typeof t.delay!="number"}var Sn=Ne({type:wv});function Ni(t,e){return e&&e[t]||void 0}function br(t,e){var n;if(pe(t)||typeof t=="number"){var r=Ni(t,e);he(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(he(t))n={type:t.name||t.toString(),exec:t};else{var r=Ni(t.type,e);if(he(r))n=M(M({},t),{exec:r});else if(r){var s=r.type||t.type;n=M(M(M({},r),t),{type:s})}else n=t}return n}var Mt=function(t,e){if(!t)return[];var n=jn(t)?t:[t];return n.map(function(r){return br(r,e)})};function Co(t){var e=br(t);return M(M({id:pe(t)?t:e.id},e),{type:e.type})}function Nv(t,e){return{type:Rr,event:typeof t=="function"?t:qs(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function Mv(t,e,n,r){var s={_event:n},i=Ne(he(t.event)?t.event(e,n.data,s):t.event),o;if(pe(t.delay)){var a=r&&r[t.delay];o=he(a)?a(e,n.data,s):a}else o=he(t.delay)?t.delay(e,n.data,s):t.delay;return M(M({},t),{type:Rr,_event:i,delay:o})}function Fv(t,e){return{to:e?e.to:void 0,type:Bs,event:he(t)?t:qs(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:he(t)?t.name:ql(t)}}function Uv(t,e,n,r){var s={_event:n},i=Ne(he(t.event)?t.event(e,n.data,s):t.event),o;if(pe(t.delay)){var a=r&&r[t.delay];o=he(a)?a(e,n.data,s):a}else o=he(t.delay)?t.delay(e,n.data,s):t.delay;var c=he(t.to)?t.to(e,n.data,s):t.to;return M(M({},t),{to:c,_event:i,event:i.data,delay:o})}var Bv=function(t,e,n){return M(M({},t),{value:pe(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},qv=function(t){return{type:Nl,sendId:t}};function Hv(t){var e=Co(t);return{type:_e.Start,activity:e,exec:void 0}}function zv(t){var e=he(t)?t:Co(t);return{type:_e.Stop,activity:e,exec:void 0}}function Kv(t,e,n){var r=he(t.activity)?t.activity(e,n.data):t.activity,s=typeof r=="string"?{id:r}:r,i={type:_e.Stop,activity:s};return i}function Vv(t,e){var n=e?"#".concat(e):"";return"".concat(_e.After,"(").concat(t,")").concat(n)}function Kr(t,e){var n="".concat(_e.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function ss(t,e){var n="".concat(_e.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Vn(t,e){var n="".concat(_e.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var Jv=function(t){var e,n,r=[];try{for(var s=se(t),i=s.next();!i.done;i=s.next())for(var o=i.value,a=0;a<o.actions.length;){if(o.actions[a].type===Ml){r.push(o.actions[a]),o.actions.splice(a,1);continue}a++}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r};function vs(t,e,n,r,s,i,o){o===void 0&&(o=!1);var a=o?[]:Jv(s),c=a.length?Ka(n,r,a,e):n,l=o?[n]:void 0,u=[];function f(v,m){var S;switch(m.type){case Rr:{var y=Mv(m,c,r,t.options.delays);return i&&typeof y.delay=="number"&&i(y,c,r),y}case Bs:var _=Uv(m,c,r,t.options.delays);return i&&_.to!==Tn.Internal&&(v==="entry"?u.push(_):i(_,c,r)),_;case Fl:{var x=Bv(m,c,r);return i==null||i(x,c,r),x}case Ev:{var E=m,D=(S=E.conds.find(function(N){var G=Kl(N.cond,t.options.guards);return!G||Vl(t,G,c,r,i?void 0:e)}))===null||S===void 0?void 0:S.actions;if(!D)return[];var V=ue(vs(t,e,c,r,[{type:v,actions:Mt(at(D),t.options.actions)}],i,o),2),q=V[0],C=V[1];return c=C,l==null||l.push(c),q}case xv:{var D=m.get(c,r.data);if(!D)return[];var k=ue(vs(t,e,c,r,[{type:v,actions:Mt(at(D),t.options.actions)}],i,o),2),H=k[0],L=k[1];return c=L,l==null||l.push(c),H}case To:{var x=Kv(m,c,r);return i==null||i(x,n,r),x}case Ml:{c=Ka(c,r,[m],i?void 0:e),l==null||l.push(c);break}default:var P=br(m,t.options.actions),Z=P.exec;if(i)i(P,c,r);else if(Z&&l){var w=l.length-1,R=M(M({},P),{exec:function(N){for(var G=[],J=1;J<arguments.length;J++)G[J-1]=arguments[J];Z.apply(void 0,Ee([l[w]],ue(G),!1))}});P=R}return P}}function h(v){var m,S,y=[];try{for(var _=se(v.actions),x=_.next();!x.done;x=_.next()){var E=x.value,D=f(v.type,E);D&&(y=y.concat(D))}}catch(V){m={error:V}}finally{try{x&&!x.done&&(S=_.return)&&S.call(_)}finally{if(m)throw m.error}}return u.forEach(function(V){i(V,c,r)}),u.length=0,y}var d=Te(s.map(h));return[d,c]}var Va=[],vn=function(t,e){Va.push(t);var n=e(t);return Va.pop(),n};function Gl(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Nt]=function(){return this},e}function Gv(t,e,n,r){var s,i=Jl(t.src),o=(s=e==null?void 0:e.options.services)===null||s===void 0?void 0:s[i.type],a=t.data?ps(t.data,n,r):void 0,c=o?Wl(o,t.id,a):Gl(t.id);return c.meta=t,c}function Wl(t,e,n){var r=Gl(e);if(r.deferred=!0,On(t)){var s=r.state=vn(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return s}}return r}function Wv(t){try{return typeof t.send=="function"}catch{return!1}}function Yv(t){return Wv(t)&&"id"in t}function Qv(t){var e;return M((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Nt]=function(){return this},e),t)}var gs=function(t){return t.type==="atomic"||t.type==="final"};function Yl(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function wr(t){return Yl(t).filter(function(e){return e.type!=="history"})}function Ql(t){var e=[t];return gs(t)?e:e.concat(Te(wr(t).map(Ql)))}function Jn(t,e){var n,r,s,i,o,a,c,l,u=new Set(t),f=Mi(u),h=new Set(e);try{for(var d=se(h),v=d.next();!v.done;v=d.next())for(var m=v.value,S=m.parent;S&&!h.has(S);)h.add(S),S=S.parent}catch(k){n={error:k}}finally{try{v&&!v.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var y=Mi(h);try{for(var _=se(h),x=_.next();!x.done;x=_.next()){var m=x.value;if(m.type==="compound"&&(!y.get(m)||!y.get(m).length))f.get(m)?f.get(m).forEach(function(H){return h.add(H)}):m.initialStateNodes.forEach(function(H){return h.add(H)});else if(m.type==="parallel")try{for(var E=(o=void 0,se(wr(m))),D=E.next();!D.done;D=E.next()){var V=D.value;h.has(V)||(h.add(V),f.get(V)?f.get(V).forEach(function(H){return h.add(H)}):V.initialStateNodes.forEach(function(H){return h.add(H)}))}}catch(H){o={error:H}}finally{try{D&&!D.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}}}catch(k){s={error:k}}finally{try{x&&!x.done&&(i=_.return)&&i.call(_)}finally{if(s)throw s.error}}try{for(var q=se(h),C=q.next();!C.done;C=q.next())for(var m=C.value,S=m.parent;S&&!h.has(S);)h.add(S),S=S.parent}catch(k){c={error:k}}finally{try{C&&!C.done&&(l=q.return)&&l.call(q)}finally{if(c)throw c.error}}return h}function Xl(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(gs(r))return r.key}else return{}}var s={};return n.forEach(function(i){s[i.key]=Xl(i,e)}),s}function Mi(t){var e,n,r=new Map;try{for(var s=se(t),i=s.next();!i.done;i=s.next()){var o=i.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}function Xv(t,e){var n=Jn([t],e);return Xl(t,Mi(n))}function Gn(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function Zv(t){return Ee([],ue(new Set(Te(Ee([],ue(t.map(function(e){return e.ownEvents})),!1)))),!1)}function is(t,e){return e.type==="compound"?wr(e).some(function(n){return n.type==="final"&&Gn(t,n)}):e.type==="parallel"?wr(e).every(function(n){return is(t,n)}):!1}function eg(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function Ja(t){return new Set(Te(t.map(function(e){return e.tags})))}function Zl(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(pe(t)||pe(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(s){return Zl(t[s],e[s])})}function tg(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function ng(t,e){var n=t.exec,r=M(M({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var tt=function(){function t(e){var n=this,r;this.actions=[],this.activities=qa,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||qa,this.meta=eg(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Zv(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=Sn;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Sn;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),pe(e))return[e];var s=Object.keys(e);return s.concat.apply(s,Ee([],ue(s.map(function(i){return r.toStrings(e[i],n).map(function(o){return i+n+o})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=xo(e,["configuration","transitions","tags","machine"]);return M(M({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return Oo(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;Iv(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(s){return s.target!==void 0||s.actions.length})},t}(),rg={deferEvents:!1},Ga=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=M(M({},rg),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),ii=new Map,sg=0,Fn={bookId:function(){return"x:".concat(sg++)},register:function(t,e){return ii.set(t,e),t},get:function(t){return ii.get(t)},free:function(t){ii.delete(t)}};function Ao(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function ig(){var t=Ao();if(t&&"__xstate__"in t)return t.__xstate__}function og(t){if(Ao()){var e=ig();e&&e.register(t)}}function ag(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,s=[],i=!1,o=function(){if(!i){for(i=!0;s.length>0;){var l=s.shift();n=t.transition(n,l,c),r.forEach(function(u){return u.next(n)})}i=!1}},a=Qv({id:e.id,send:function(l){s.push(l),o()},getSnapshot:function(){return n},subscribe:function(l,u,f){var h=sr(l,u,f);return r.add(h),h.next(n),{unsubscribe:function(){r.delete(h)}}}}),c={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return n=t.start?t.start(c):n,a}var cg={sync:!1,autoForward:!1},je;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(je||(je={}));var lg=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=je.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(u,f){if(jn(u))return r.batch(u),r.state;var h=Ne(qs(u,f));if(r.status===je.Stopped)return r.state;if(r.status!==je.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(h.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(h.data)));return r.scheduler.schedule(function(){r.forward(h);var d=r._nextState(h);r.update(d,h)}),r._state},this.sendTo=function(u,f,h){var d=r.parent&&(f===Tn.Parent||r.parent.id===f),v=d?r.parent:pe(f)?f===Tn.Internal?r:r.children.get(f)||Fn.get(f):Lv(f)?f:void 0;if(!v){if(!d)throw new Error("Unable to send event to child '".concat(f,"' from service '").concat(r.id,"'."));return}if("machine"in v){if(r.status!==je.Stopped||r.parent!==v||r.state.done){var m=M(M({},u),{name:u.name===Sv?"".concat(Vn(r.id)):u.name,origin:r.sessionId});!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([v,m]):v.send(m)}}else!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([v,u.data]):v.send(u.data)},this._exec=function(u,f,h,d){d===void 0&&(d=r.machine.options.actions);var v=u.exec||Ni(u.type,d),m=he(v)?v:v?v.exec:u.exec;if(m)try{return m(f,h.data,r.machine.config.predictableActionArguments?{action:u,_event:h}:{action:u,state:r.state,_event:h})}catch(w){throw r.parent&&r.parent.send({type:"xstate.error",data:w}),w}switch(u.type){case Rr:{var S=u;r.defer(S);break}case Bs:var y=u;if(typeof y.delay=="number"){r.defer(y);return}else y.to?r.sendTo(y._event,y.to,h===Sn):r.send(y._event);break;case Nl:r.cancel(u.sendId);break;case Pi:{if(r.status!==je.Running)return;var _=u.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[_.id||_.type])break;if(_.type===_e.Invoke){var x=Jl(_.src),E=r.machine.options.services?r.machine.options.services[x.type]:void 0,D=_.id,V=_.data,q="autoForward"in _?_.autoForward:!!_.forward;if(!E)return;var C=V?ps(V,f,h):void 0;if(typeof E=="string")return;var k=he(E)?E(f,h.data,{data:C,src:x,meta:_.meta}):E;if(!k)return;var H=void 0;On(k)&&(k=C?k.withContext(C):k,H={autoForward:q}),r.spawn(k,D,H)}else r.spawnActivity(_);break}case To:{r.stopChild(u.activity.id);break}case Fl:var L=u,P=L.label,Z=L.value;P?r.logger(P,Z):r.logger(Z);break}};var s=M(M({},t.defaultOptions),n),i=s.clock,o=s.logger,a=s.parent,c=s.id,l=c!==void 0?c:e.id;this.id=l,this.logger=o,this.clock=i,this.parent=a,this.options=s,this.scheduler=new Ga({deferEvents:this.options.deferEvents}),this.sessionId=Fn.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:vn(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,s;try{for(var i=se(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,n)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,s,i,o,a,c,l,u,f=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Sn)&&this.options.execute)this.execute(this.state);else for(var h=void 0;h=this._outgoingQueue.shift();)h[0].send(h[1]);if(this.children.forEach(function(k){f.state.children[k.id]=k}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var d=se(this.eventListeners),v=d.next();!v.done;v=d.next()){var m=v.value;m(e.event)}}catch(k){r={error:k}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}try{for(var S=se(this.listeners),y=S.next();!y.done;y=S.next()){var m=y.value;m(e,e.event)}}catch(k){i={error:k}}finally{try{y&&!y.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}try{for(var _=se(this.contextListeners),x=_.next();!x.done;x=_.next()){var E=x.value;E(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(k){a={error:k}}finally{try{x&&!x.done&&(c=_.return)&&c.call(_)}finally{if(a)throw a.error}}if(this.state.done){var D=e.configuration.find(function(k){return k.type==="final"&&k.parent===f.machine}),V=D&&D.doneData?ps(D.doneData,e.context,n):void 0;this._doneEvent=ss(this.id,V);try{for(var q=se(this.doneListeners),C=q.next();!C.done;C=q.next()){var m=C.value;m(this._doneEvent)}}catch(k){l={error:k}}finally{try{C&&!C.done&&(u=q.return)&&u.call(q)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),Fn.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===je.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var s=this,i=sr(e,n,r);this.listeners.add(i.next),this.status!==je.NotStarted&&i.next(this.state);var o=function(){s.doneListeners.delete(o),s.stopListeners.delete(o),i.complete()};return this.status===je.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){s.listeners.delete(i.next),s.doneListeners.delete(o),s.stopListeners.delete(o)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===je.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===je.Running)return this;this.machine._init(),Fn.register(this.sessionId,this),this.initialized=!0,this.status=je.Running;var r=e===void 0?this.initialState:vn(this,function(){return tg(e)?n.machine.resolveState(e):n.machine.resolveState(tt.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Sn)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){he(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,s,i,o,a,c,l,u;try{for(var f=se(this.listeners),h=f.next();!h.done;h=f.next()){var d=h.value;this.listeners.delete(d)}}catch(q){e={error:q}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}try{for(var v=se(this.stopListeners),m=v.next();!m.done;m=v.next()){var d=m.value;d(),this.stopListeners.delete(d)}}catch(q){r={error:q}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(r)throw r.error}}try{for(var S=se(this.contextListeners),y=S.next();!y.done;y=S.next()){var d=y.value;this.contextListeners.delete(d)}}catch(q){i={error:q}}finally{try{y&&!y.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}try{for(var _=se(this.doneListeners),x=_.next();!x.done;x=_.next()){var d=x.value;this.doneListeners.delete(d)}}catch(q){a={error:q}}finally{try{x&&!x.done&&(c=_.return)&&c.call(_)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=je.Stopped,this._initialState=void 0;try{for(var E=se(Object.keys(this.delayedEventsMap)),D=E.next();!D.done;D=E.next()){var V=D.value;this.clock.clearTimeout(this.delayedEventsMap[V])}}catch(q){l={error:q}}finally{try{D&&!D.done&&(u=E.return)&&u.call(E)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new Ga({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=Ne({type:"xstate.stop"}),s=vn(e,function(){var i=Te(Ee([],ue(e.state.configuration),!1).sort(function(u,f){return f.order-u.order}).map(function(u){return Mt(u.onExit,e.machine.options.actions)})),o=ue(vs(e.machine,e.state,e.state.context,r,[{type:"exit",actions:i}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),a=o[0],c=o[1],l=new tt({value:e.state.value,context:c,_event:r,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:a.filter(function(u){return!Di(u)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return l.changed=!0,l});e.update(s,r),e._stopChildren(),Fn.free(e.sessionId)}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===je.NotStarted&&this.options.deferEvents)){if(this.status!==je.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var s,i,o=n.state,a=!1,c=[],l=function(d){var v=Ne(d);n.forward(v),o=vn(n,function(){return n.machine.transition(o,v,void 0,r||void 0)}),c.push.apply(c,Ee([],ue(n.machine.config.predictableActionArguments?o.actions:o.actions.map(function(m){return ng(m,o)})),!1)),a=a||!!o.changed};try{for(var u=se(e),f=u.next();!f.done;f=u.next()){var h=f.value;l(h)}}catch(d){s={error:d}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}o.changed=a,o.actions=c,n.update(o,Ne(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var s=Ne(e);if(s.name.indexOf(Ba)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(Ba)===0}))throw s.data.data;var i=vn(this,function(){return r.machine.transition(r.state,s,void 0,n||void 0)});return i},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var s=se(this.forwardTo),i=s.next();!i.done;i=s.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),he(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==je.Running)return Wl(e,n);if(za(e))return this.spawnPromise(Promise.resolve(e),n);if(he(e))return this.spawnCallback(e,n);if(Yv(e))return this.spawnActor(e,n);if(jv(e))return this.spawnObservable(e,n);if(On(e))return this.spawnMachine(e,M(M({},r),{id:n}));if($v(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var s=new t(e,M(M({},this.options),{parent:this,id:n.id||e.id})),i=M(M({},cg),n);i.sync&&s.onTransition(function(a){r.send(Ul,{state:a,id:s.id})});var o=s;return this.children.set(s.id,o),i.autoForward&&this.forwardTo.add(s.id),s.onDone(function(a){r.removeChild(s.id),r.send(Ne(a,{origin:s.id}))}).start(),o},t.prototype.spawnBehavior=function(e,n){var r=ag(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,s=this,i=!1,o;e.then(function(c){i||(o=c,s.removeChild(n),s.send(Ne(ss(n,c),{origin:n})))},function(c){if(!i){s.removeChild(n);var l=Vn(n,c);try{s.send(Ne(l,{origin:n}))}catch{s.devTools&&s.devTools.send(l,s.state),s.machine.strict&&s.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(c,l,u){var f=sr(c,l,u),h=!1;return e.then(function(d){h||(f.next(d),!h&&f.complete())},function(d){h||f.error(d)}),{unsubscribe:function(){return h=!0}}},stop:function(){i=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return o}},r[Nt]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnCallback=function(e,n){var r,s=this,i=!1,o=new Set,a=new Set,c,l=function(h){c=h,a.forEach(function(d){return d(h)}),!i&&s.send(Ne(h,{origin:n}))},u;try{u=e(l,function(h){o.add(h)})}catch(h){this.send(Vn(n,h))}if(za(u))return this.spawnPromise(u,n);var f=(r={id:n,send:function(h){return o.forEach(function(d){return d(h)})},subscribe:function(h){var d=sr(h);return a.add(d.next),{unsubscribe:function(){a.delete(d.next)}}},stop:function(){i=!0,he(u)&&u()},toJSON:function(){return{id:n}},getSnapshot:function(){return c}},r[Nt]=function(){return this},r);return this.children.set(n,f),f},t.prototype.spawnObservable=function(e,n){var r,s=this,i,o=e.subscribe(function(c){i=c,s.send(Ne(c,{origin:n}))},function(c){s.removeChild(n),s.send(Ne(Vn(n,c),{origin:n}))},function(){s.removeChild(n),s.send(Ne(ss(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(c,l,u){return e.subscribe(c,l,u)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return i},toJSON:function(){return{id:n}}},r[Nt]=function(){return this},r);return this.children.set(n,a),a},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[Nt]=function(){return this},r))},t.prototype.attachDev=function(){var e=Ao();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(M(M({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:M({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}og(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Nt]=function(){return this},t.prototype.getSnapshot=function(){return this.status===je.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=eu,t}();function eu(t,e){var n=new lg(t,e);return n}function ug(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Vr(t){return M(M({type:Ii},t),{toJSON:function(){t.onDone,t.onError;var e=xo(t,["onDone","onError"]);return M(M({},e),{type:Ii,src:ug(t.src)})}})}var Jr="",Fi="#",oi="*",hn={},dn=function(t){return t[0]===Fi},fg=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},hg=function(){function t(e,n,r,s){r===void 0&&(r="context"in e?e.context:void 0);var i=this,o;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(fg(),n),this.parent=s==null?void 0:s.parent,this.key=this.config.key||(s==null?void 0:s.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Bl),this.id=this.config.id||Ee([this.machine.key],ue(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Kn(this.config.states,function(l,u){var f,h=new t(l,{},void 0,{parent:i,key:u});return Object.assign(i.idMap,M((f={},f[h.id]=h,f),h.idMap)),h}):hn;var a=0;function c(l){var u,f;l.order=a++;try{for(var h=se(Yl(l)),d=h.next();!d.done;d=h.next()){var v=d.value;c(v)}}catch(m){u={error:m}}finally{try{d&&!d.done&&(f=h.return)&&f.call(h)}finally{if(u)throw u.error}}}c(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(l){var u=l.event;return u===Jr}):Jr in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=at(this.config.entry||this.config.onEntry).map(function(l){return br(l)}),this.onExit=at(this.config.exit||this.config.onExit).map(function(l){return br(l)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=at(this.config.invoke).map(function(l,u){var f,h;if(On(l)){var d=zr(i.id,u);return i.machine.options.services=M((f={},f[d]=l,f),i.machine.options.services),Vr({src:d,id:d})}else if(pe(l.src)){var d=l.id||zr(i.id,u);return Vr(M(M({},l),{id:d,src:l.src}))}else if(On(l.src)||he(l.src)){var d=l.id||zr(i.id,u);return i.machine.options.services=M((h={},h[d]=l.src,h),i.machine.options.services),Vr(M(M({id:d},l),{src:d}))}else{var v=l.src;return Vr(M(M({id:zr(i.id,u)},l),{src:v}))}}),this.activities=at(this.config.activities).concat(this.invoke).map(function(l){return Co(l)}),this.transition=this.transition.bind(this),this.tags=at(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||Ql(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,s=r.actions,i=r.activities,o=r.guards,a=r.services,c=r.delays;return new t(this.config,{actions:M(M({},s),e.actions),activities:M(M({},i),e.activities),guards:M(M({},o),e.guards),services:M(M({},a),e.services),delays:M(M({},c),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return he(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Kn(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Jr,r=this.transitions.filter(function(s){var i=s.eventType===e;return n?i:i||s.eventType===oi});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(i,o){var a=he(i)?"".concat(e.id,":delay[").concat(o,"]"):i,c=Vv(a,e.id);return e.onEntry.push(Fv(c,{delay:i})),e.onExit.push(qv(c)),c},s=jn(n)?n.map(function(i,o){var a=r(i.delay,o);return M(M({},i),{event:a})}):Te(Object.keys(n).map(function(i,o){var a=n[i],c=pe(a)?{target:a}:a,l=isNaN(+i)?i:+i,u=r(l,o);return at(c).map(function(f){return M(M({},f),{event:u,delay:l})})}));return s.map(function(i){var o=i.delay;return M(M({},e.formatTransition(i)),{delay:o})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var s=e instanceof tt?e.value:rr(e,this.delimiter);if(pe(s)){var i=this.getStateNode(s).initial;return i!==void 0?this.getStateNodes((n={},n[s]=i,n)):[this,this.states[s]]}var o=Object.keys(s),a=[this];return a.push.apply(a,Ee([],ue(Te(o.map(function(c){return r.getStateNode(c).getStateNodes(s[c])}))),!1)),a},t.prototype.handles=function(e){var n=ql(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof tt?e:tt.create(e),r=Array.from(Jn([],this.getStateNodes(n.value)));return new tt(M(M({},n),{value:this.resolve(n.value),configuration:r,done:is(r,this),tags:Ja(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var s=this.getStateNode(e),i=s.next(n,r);return!i||!i.transitions.length?this.next(n,r):i},t.prototype.transitionCompoundNode=function(e,n,r){var s=Object.keys(e),i=this.getStateNode(s[0]),o=i._transition(e[s[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionParallelNode=function(e,n,r){var s,i,o={};try{for(var a=se(Object.keys(e)),c=a.next();!c.done;c=a.next()){var l=c.value,u=e[l];if(u){var f=this.getStateNode(l),h=f._transition(u,n,r);h&&(o[l]=h)}}}catch(y){s={error:y}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}var d=Object.keys(o).map(function(y){return o[y]}),v=Te(d.map(function(y){return y.transitions})),m=d.some(function(y){return y.transitions.length>0});if(!m)return this.next(n,r);var S=Te(Object.keys(o).map(function(y){return o[y].configuration}));return{transitions:v,exitSet:Te(d.map(function(y){return y.exitSet})),configuration:S,source:n,actions:Te(Object.keys(o).map(function(y){return o[y].actions}))}},t.prototype._transition=function(e,n,r){return pe(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Ne(n))},t.prototype.next=function(e,n){var r,s,i=this,o=n.name,a=[],c=[],l;try{for(var u=se(this.getCandidates(o)),f=u.next();!f.done;f=u.next()){var h=f.value,d=h.cond,v=h.in,m=e.context,S=v?pe(v)&&dn(v)?e.matches(rr(this.getStateNodeById(v).path,this.delimiter)):Oo(rr(v,this.delimiter),Cv(this.path.slice(0,-2))(e.value)):!0,y=!1;try{y=!d||Vl(this.machine,d,m,n,e)}catch(E){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(E.message))}if(y&&S){h.target!==void 0&&(c=h.target),a.push.apply(a,Ee([],ue(h.actions),!1)),l=h;break}}}catch(E){r={error:E}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}if(l){if(!c.length)return{transitions:[l],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var _=Te(c.map(function(E){return i.getRelativeStateNodes(E,e.historyValue)})),x=!!l.internal;return{transitions:[l],exitSet:x?[]:Te(c.map(function(E){return i.getPotentiallyReenteringNodes(E)})),configuration:_,source:e,actions:a}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,s=e;r&&r!==s;)n.push(r),r=r.parent;return r!==s?[]:(n.push(s),n)},t.prototype.getActions=function(e,n,r,s,i,o,a){var c,l,u,f,h=this,d=o?Jn([],this.getStateNodes(o.value)):[],v=new Set;try{for(var m=se(Array.from(e).sort(function(L,P){return L.order-P.order})),S=m.next();!S.done;S=m.next()){var y=S.value;(!Gn(d,y)||Gn(r.exitSet,y)||y.parent&&v.has(y.parent))&&v.add(y)}}catch(L){c={error:L}}finally{try{S&&!S.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}try{for(var _=se(d),x=_.next();!x.done;x=_.next()){var y=x.value;(!Gn(e,y)||Gn(r.exitSet,y.parent))&&r.exitSet.push(y)}}catch(L){u={error:L}}finally{try{x&&!x.done&&(f=_.return)&&f.call(_)}finally{if(u)throw u.error}}r.exitSet.sort(function(L,P){return P.order-L.order});var E=Array.from(v).sort(function(L,P){return L.order-P.order}),D=new Set(r.exitSet),V=Te(E.map(function(L){var P=[];if(L.type!=="final")return P;var Z=L.parent;if(!Z.parent)return P;P.push(Kr(L.id,L.doneData),Kr(Z.id,L.doneData?ps(L.doneData,s,i):void 0));var w=Z.parent;return w.type==="parallel"&&wr(w).every(function(R){return is(r.configuration,R)})&&P.push(Kr(w.id)),P})),q=E.map(function(L){var P=L.onEntry,Z=L.activities.map(function(w){return Hv(w)});return{type:"entry",actions:Mt(a?Ee(Ee([],ue(P),!1),ue(Z),!1):Ee(Ee([],ue(Z),!1),ue(P),!1),h.machine.options.actions)}}).concat({type:"state_done",actions:V.map(function(L){return Nv(L)})}),C=Array.from(D).map(function(L){return{type:"exit",actions:Mt(Ee(Ee([],ue(L.onExit),!1),ue(L.activities.map(function(P){return zv(P)})),!1),h.machine.options.actions)}}),k=C.concat({type:"transition",actions:Mt(r.actions,this.machine.options.actions)}).concat(q);if(n){var H=Mt(Te(Ee([],ue(e),!1).sort(function(L,P){return P.order-L.order}).map(function(L){return L.onExit})),this.machine.options.actions).filter(function(L){return!Di(L)});return k.concat({type:"stop",actions:H})}return k},t.prototype.transition=function(e,n,r,s){e===void 0&&(e=this.initialState);var i=Ne(n),o;if(e instanceof tt)o=r===void 0?e:this.resolveState(tt.from(e,r));else{var a=pe(e)?this.resolve(ds(this.getResolvedPath(e))):this.resolve(e),c=r??this.machine.context;o=this.resolveState(tt.from(a,c))}if(this.strict&&!this.events.includes(i.name)&&!Rv(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var l=this._transition(o.value,o,i)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},u=Jn([],this.getStateNodes(o.value)),f=l.configuration.length?Jn(u,l.configuration):u;return l.configuration=Ee([],ue(f),!1),this.resolveTransition(l,o,o.context,s,i)},t.prototype.resolveRaisedTransition=function(e,n,r,s){var i,o=e.actions;return e=this.transition(e,n,void 0,s),e._event=r,e.event=r.data,(i=e.actions).unshift.apply(i,Ee([],ue(o),!1)),e},t.prototype.resolveTransition=function(e,n,r,s,i){var o,a,c,l,u=this;i===void 0&&(i=Sn);var f=e.configuration,h=!n||e.transitions.length>0,d=h?e.configuration:n?n.configuration:[],v=is(d,this),m=h?Xv(this.machine,f):void 0,S=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,y=this.getActions(new Set(d),v,e,r,i,n,s),_=n?M({},n.activities):{};try{for(var x=se(y),E=x.next();!E.done;E=x.next()){var D=E.value;try{for(var V=(c=void 0,se(D.actions)),q=V.next();!q.done;q=V.next()){var C=q.value;C.type===Pi?_[C.activity.id||C.activity.type]=C:C.type===To&&(_[C.activity.id||C.activity.type]=!1)}}catch(Ie){c={error:Ie}}finally{try{q&&!q.done&&(l=V.return)&&l.call(V)}finally{if(c)throw c.error}}}}catch(Ie){o={error:Ie}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}var k=ue(vs(this,n,r,i,y,s,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),H=k[0],L=k[1],P=ue(kv(H,Di),2),Z=P[0],w=P[1],R=H.filter(function(Ie){var it;return Ie.type===Pi&&((it=Ie.activity)===null||it===void 0?void 0:it.type)===Ii}),N=R.reduce(function(Ie,it){return Ie[it.activity.id]=Gv(it.activity,u.machine,L,i),Ie},n?M({},n.children):{}),G=new tt({value:m||n.value,context:L,_event:i,_sessionid:n?n._sessionid:null,historyValue:m?S?Pv(S,m):void 0:n?n.historyValue:void 0,history:!m||e.source?n:void 0,actions:m?w:[],activities:m?_:n?n.activities:{},events:[],configuration:d,transitions:e.transitions,children:N,done:v,tags:Ja(d),machine:this}),J=r!==L;G.changed=i.name===Ul||J;var ee=G.history;ee&&delete ee.history;var Me=!v&&(this._transient||f.some(function(Ie){return Ie._transient}));if(!h&&(!Me||i.name===Jr))return G;var ge=G;if(!v)for(Me&&(ge=this.resolveRaisedTransition(ge,{type:bv},i,s));Z.length;){var $e=Z.shift();ge=this.resolveRaisedTransition(ge,$e._event,i,s)}var Ot=ge.changed||(ee?!!ge.actions.length||J||typeof ee.value!=typeof ge.value||!Zl(ge.value,ee.value):void 0);return ge.changed=Ot,ge.history=ee,ge},t.prototype.getStateNode=function(e){if(dn(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=dn(e)?e.slice(Fi.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&dn(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=Li(e,this.delimiter).slice(),r=this;n.length;){var s=n.shift();if(!s.length)break;r=r.getStateNode(s)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||hn;switch(this.type){case"parallel":return Kn(this.initialStateValue,function(i,o){return i?r.getStateNode(o).resolve(e[o]||i):hn});case"compound":if(pe(e)){var s=this.getStateNode(e);return s.type==="parallel"||s.type==="compound"?(n={},n[e]=s.initialStateValue,n):e}return Object.keys(e).length?Kn(e,function(i,o){return i?r.getStateNode(o).resolve(i):hn}):this.initialStateValue||{};default:return e||hn}},t.prototype.getResolvedPath=function(e){if(dn(e)){var n=this.machine.idMap[e.slice(Fi.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return Li(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=Ha(this.states,function(r){return r.initialStateValue||hn},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=gs(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;pe(n.target)?e=dn(n.target)?ds(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(gs(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=rs(this.initialStateValue);return Te(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=ue(e),r=n[0],s=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var i=this.getStateNode(r);if(i.type==="history")return i.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(s)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Ha(this.states,function(n,r){if(!e)return n.historyValue();var s=pe(e)?void 0:e[r];return n.historyValue(s||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var s=this.target;return s?Te(rs(s).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var i=Av(r.path,"states")(e).current;return pe(i)?[r.getStateNode(i)]:Te(rs(i).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=Te(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,s;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=se(Object.keys(i)),c=a.next();!c.done;c=a.next()){var l=c.value,u=i[l];if(u.states)try{for(var f=(r=void 0,se(u.events)),h=f.next();!h.done;h=f.next()){var d=h.value;o.add("".concat(d))}}catch(v){r={error:v}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!pe(r))return r;var s=r[0]===n.delimiter;if(s&&!n.parent)return n.getStateNodeByPath(r.slice(1));var i=s?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(i);return o}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(i)})},t.prototype.formatTransition=function(e){var n=this,r=Dv(e.target),s="internal"in e?e.internal:r?r.some(function(c){return pe(c)&&c[0]===n.delimiter}):!0,i=this.machine.options.guards,o=this.resolveTarget(r),a=M(M({},e),{actions:Mt(at(e.actions)),cond:Kl(e.cond,i),target:o,source:this,internal:s,eventType:e.event,toJSON:function(){return M(M({},a),{target:a.target?a.target.map(function(c){return"#".concat(c.id)}):void 0,source:"#".concat(n.id)})}});return a},t.prototype.formatTransitions=function(){var e,n,r=this,s;if(!this.config.on)s=[];else if(Array.isArray(this.config.on))s=this.config.on;else{var i=this.config.on,o=oi,a=i[o],c=a===void 0?[]:a,l=xo(i,[typeof o=="symbol"?o:o+""]);s=Te(Object.keys(l).map(function(_){var x=fn(_,l[_]);return x}).concat(fn(oi,c)))}var u=this.config.always?fn("",this.config.always):[],f=this.config.onDone?fn(String(Kr(this.id)),this.config.onDone):[],h=Te(this.invoke.map(function(_){var x=[];return _.onDone&&x.push.apply(x,Ee([],ue(fn(String(ss(_.id)),_.onDone)),!1)),_.onError&&x.push.apply(x,Ee([],ue(fn(String(Vn(_.id)),_.onError)),!1)),x})),d=this.after,v=Te(Ee(Ee(Ee(Ee([],ue(f),!1),ue(h),!1),ue(s),!1),ue(u),!1).map(function(_){return at(_).map(function(x){return r.formatTransition(x)})}));try{for(var m=se(d),S=m.next();!S.done;S=m.next()){var y=S.value;v.push(y)}}catch(_){e={error:_}}finally{try{S&&!S.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}return v},t}();function dg(t,e){return new hg(t,e)}var ms=globalThis&&globalThis.__assign||function(){return ms=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ms.apply(this,arguments)},pg=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},vg=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function gg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=vg(e,2),s=r[0],i=s===void 0?{}:s,o=r[1],a=typeof t=="function"?t():t,c=i.context,l=i.guards,u=i.actions,f=i.activities,h=i.services,d=i.delays,v=i.state,m=pg(i,["context","guards","actions","activities","services","delays","state"]),S={context:c,guards:l,actions:u,activities:f,services:h,delays:d},y=a.withConfig(S,function(){return ms(ms({},a.context),c)}),_=eu(y,m).start(v?tt.create(v):void 0),x;return so(function(){o&&(x=_.subscribe(sr(o)))}),io(function(){_.stop(),x==null||x.unsubscribe()}),_}var mg=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function Hs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=mg(e,1),s=r[0],i=s===void 0?{}:s;function o(u){var f=u.changed===void 0&&Object.keys(u.children).length;(u.changed||f)&&(l.value=u)}var a=gg(t,i,o),c=a.machine.initialState,l=Lc(i.state?tt.create(i.state):c);return{state:l,send:a.send,service:a}}const zs=dg({id:"loading-machine",initial:"empty",schema:{events:{}},tsTypes:{},predictableActionArguments:!0,states:{empty:{on:{LOAD:{target:"loading"}}},loading:{on:{SUCCESS:{target:"loaded"},ERROR:{target:"error"}}},loaded:{on:{LOAD:{target:"loading"}}},error:{on:{LOAD:{target:"loading"}}}}}),Ro=Ds("authStore",()=>{const{state:t,send:e}=Hs(zs),n=sn({user:{userId:"",firstName:"",lastName:"",age:null,email:"",registerDate:0,isLoggedIn:!1,isCoach:!1,isAdmin:!1},isGuest:!1}),r=fe(()=>n.value.user.userId),s=fe(()=>n.value.user.isCoach),i=fe(()=>n.value.user.isLoggedIn),o=fe(()=>n.value.isGuest);function a(f){n.value.user=f}const c=fe(()=>o.value?"Guest":`${n.value.user.firstName} ${n.value.user.lastName}`);function l(){e("SUCCESS")}async function u(f="heheszki"){if(e("LOAD"),o.value){l();return}if(!n.value.user.isLoggedIn)try{const{data:h,error:d}=await _r.from("users").select("*").eq("userId",f).single();if(d)throw new Error(`Failed!: ${d.message}`);a(h),e("SUCCESS")}catch(h){console.log(h),e("ERROR")}}return{userId:r,setUser:a,fetchUser:u,fullName:c,stateMachine:t,isLoggedIn:i,isCoach:s}}),yg={name:"TheHeaderLinks",setup(){return{authStore:Ro()}},props:{expanded:{type:Boolean,required:!0}},computed:{expandedClass(){return this.expanded?"expanded":""}}};function _g(t,e,n,r,s,i){const o=wl;return ce(),De("div",{class:xt(`buttons ${i.expandedClass}`)},[ye(o,{to:{name:"coaches"}},{default:Xe(()=>[es("Coaches")]),_:1}),r.authStore.isCoach?(ce(),ze(o,{key:0,to:{name:"requests"}},{default:Xe(()=>[es(" Requests ")]),_:1})):(ce(),ze(o,{key:1,to:{name:"register-coach"}},{default:Xe(()=>[es("Become a coach")]),_:1}))],2)}const tu=Ke(yg,[["render",_g],["__scopeId","data-v-543d7b41"]]),bg={name:"TheHeader",components:{BaseButton:Ar,TheHeaderLinks:tu,BaseDropdownMenu:go},data:()=>({screen:{width:window.innerWidth,scrollY:window.scrollY},isExpanded:!1}),computed:{small(){return this.screen.scrollY>=100?"small":""}},methods:{handleScroll(t){this.screen.scrollY=t.currentTarget.scrollY},handleResize(){this.screen.width=window.innerWidth},expandMenu(){this.isExpanded=!this.isExpanded}},mounted(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},unmounted(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},watch:{$route(){this.isExpanded=!1}}};const wg=t=>(Or("data-v-3b64200c"),t=t(),Cr(),t),Sg=wg(()=>Ce("h2",null,"Find a Coach",-1)),Eg={class:"links-wrapper"};function xg(t,e,n,r,s,i){const o=ao("RouterLink"),a=tu,c=fd,l=Ar,u=go;return ce(),De("header",{class:xt(`header ${i.small}`)},[ye(o,{to:{name:"home"}},{default:Xe(()=>[Sg]),_:1}),t.screen.width>500?(ce(),ze(a,{key:0,expanded:!1})):wn("",!0),t.screen.width<=500?(ce(),ze(l,{key:1,mode:"flat",onClick:i.expandMenu},{default:Xe(()=>[ye(c)]),_:1},8,["onClick"])):wn("",!0),ye(js,null,{default:Xe(()=>[t.isExpanded&&t.screen.width<=500?(ce(),ze(u,{key:0},{default:Xe(()=>[Ce("div",Eg,[ye(a,{expanded:t.isExpanded},null,8,["expanded"])])]),_:1})):wn("",!0)]),_:1})],2)}const Tg=Ke(bg,[["render",xg],["__scopeId","data-v-3b64200c"]]),Og={viewBox:"0 0 24 24",width:"2em",height:"2em"},Cg=ah('<rect width="2.8" height="12" x="1" y="6" fill="currentColor"><animate attributeName="y" begin="svgSpinnersBarsScaleMiddle0.begin+0.4s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="6;1;6"></animate><animate attributeName="height" begin="svgSpinnersBarsScaleMiddle0.begin+0.4s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="12;22;12"></animate></rect><rect width="2.8" height="12" x="5.8" y="6" fill="currentColor"><animate attributeName="y" begin="svgSpinnersBarsScaleMiddle0.begin+0.2s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="6;1;6"></animate><animate attributeName="height" begin="svgSpinnersBarsScaleMiddle0.begin+0.2s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="12;22;12"></animate></rect><rect width="2.8" height="12" x="10.6" y="6" fill="currentColor"><animate id="svgSpinnersBarsScaleMiddle0" attributeName="y" begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="6;1;6"></animate><animate attributeName="height" begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="12;22;12"></animate></rect><rect width="2.8" height="12" x="15.4" y="6" fill="currentColor"><animate attributeName="y" begin="svgSpinnersBarsScaleMiddle0.begin+0.2s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="6;1;6"></animate><animate attributeName="height" begin="svgSpinnersBarsScaleMiddle0.begin+0.2s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="12;22;12"></animate></rect><rect width="2.8" height="12" x="20.2" y="6" fill="currentColor"><animate id="svgSpinnersBarsScaleMiddle1" attributeName="y" begin="svgSpinnersBarsScaleMiddle0.begin+0.4s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="6;1;6"></animate><animate attributeName="height" begin="svgSpinnersBarsScaleMiddle0.begin+0.4s" calcMode="spline" dur="0.6s" keySplines=".14,.73,.34,1;.65,.26,.82,.45" values="12;22;12"></animate></rect>',5),Ag=[Cg];function Rg(t,e){return ce(),De("svg",Og,Ag)}const $g={name:"svg-spinners-bars-scale-middle",render:Rg},kg={name:"AppLoading"};const Pg={class:"app-loading"};function Ig(t,e,n,r,s,i){const o=$g;return ce(),De("div",Pg,[ye(o,{width:"5em",height:"5em"})])}const jg=Ke(kg,[["render",Ig],["__scopeId","data-v-56679dfc"]]),Lg=Ds("coachesStore",()=>{const{state:t,send:e}=Hs(zs),n=sn({coaches:[],filterArray:[],uniqueAreas:[],errorMsg:""}),r=fe(()=>{const{filterArray:d}=n.value;return n.value.coaches.filter(v=>v.areas?v.areas.some(m=>d.includes(m)):{})}),s=fe(()=>n.value.coaches),i=fe(()=>{const d=n.value.coaches.flatMap(m=>m.areas);return Array.from(new Set(d))}),o=fe(()=>d=>{const v=n.value.coaches.find(m=>m.userId===d);return v||null}),a=fe(()=>n.value.filterArray);function c(d){n.value.filterArray=d}const l=fe(()=>n.value.errorMsg||"Something went wrong, please again later.");function u(d){n.value.coaches.push(d)}async function f(){if(!t.value.matches("loaded")){e("LOAD");try{const{data:d,error:v}=await _r.from("coaches_list_view").select("*");if(v)throw new Error(v.code);d.forEach(m=>{u(m)}),e("SUCCESS")}catch{e("ERROR")}}}function h(){e("LOAD"),n.value.coaches=[],f()}return{stateMachine:t,send:e,getFilteredCoaches:r,getUniqueAreas:i,getCoach:o,reloadCoaches:h,getFilterArray:a,setFilter:c,setCoach:u,fetchCoaches:f,getErrorMsg:l,getCoaches:s}}),Dg=Ds("requestsStore",()=>{const t=sn({requests:[]}),{state:e,send:n}=Hs(zs);function r(o){t.value.requests.unshift(o)}const s=fe(()=>t.value.requests);async function i(o){try{if(e.value.matches("loaded"))return;n("LOAD");const{data:a,error:c}=await _r.from("requests_list_view").select("*").eq("coachId",o);if(c)throw new Error(`Failed!: ${c.message}`);a.forEach(l=>{r(l)}),n("SUCCESS")}catch(a){n("ERROR"),console.log(a)}}return{setRequest:r,getRequests:s,fetchRequests:i}}),Ng=Ds("reviewsStore",()=>{const{state:t,send:e}=Hs(zs),n=sn({reviews:[],lastCoachId:""}),r=fe(()=>n.value.reviews),s=fe(()=>y=>!!n.value.reviews.find(_=>_.authorId===y)),i=fe(()=>{let y=0;const _=r.value;if(!_.length)return 0;_.forEach(E=>{y+=E.rate});const x=y/_.length;return Math.round(x)});function o(y){n.value.reviews.unshift(y)}function a(){n.value.reviews=[]}function c(y){n.value.lastCoachId=y}const l=fe(()=>y=>n.value.lastCoachId!==y?(c(y),!0):!1),u=fe(()=>y=>{const _=n.value.reviews.find(x=>x.reviewId===y);return`${_==null?void 0:_.firstName} ${_==null?void 0:_.lastName}`}),f=fe(()=>y=>n.value.reviews.find(_=>_.authorId===y?_.reviewId:null)),h=fe(()=>y=>{const _=n.value.reviews.find(x=>x.reviewId===y);return(_==null?void 0:_.reviewsCount)||0}),d=fe(()=>y=>n.value.reviews.find(x=>x.reviewId===y));async function v(y){if(l.value(y)&&(a(),e("LOAD")),!t.value.matches("loaded"))try{e("LOAD");const{data:_,error:x}=await _r.from("reviews_list_view").select("*").eq("userId",y);if(x)throw e("ERROR"),new Error("Error");_.forEach(E=>{o(E)}),e("SUCCESS")}catch(_){console.log(_)}}async function m(){e("LOAD"),a(),v(n.value.lastCoachId)}async function S(y){const _=Ro(),x=n.value.reviews.find(E=>E.reviewId===y);if(_.userId===(x==null?void 0:x.authorId))try{const{error:E}=await _r.from("reviews").delete().eq("reviewId",y);if(m(),E)throw new Error(`Failed! ${E.message}`)}catch(E){console.log(E)}}return{getAuthorFullName:u,getRate:i,getReviews:r,userReviewsCount:h,fetchReviews:v,setReview:o,isReviewFound:s,getReviewById:d,reloadReviews:m,stateMachine:t,deleteReview:S,reviewIdByAuthor:f}}),Mg={name:"App",setup(){const t=Ng(),e=Lg(),n=Dg(),r=Ro();return{reviewsStore:t,coachesStore:e,requestsStore:n,authStore:r}},async mounted(){await this.authStore.fetchUser("heheszki")}};const Fg={key:1,class:"app-wrapper"};function Ug(t,e,n,r,s,i){const o=jg,a=Tg,c=td;return ce(),ze(js,{mode:"out-in",name:"component-state"},{default:Xe(()=>[r.authStore.stateMachine.matches("loading")?(ce(),ze(o,{key:0})):r.authStore.stateMachine.matches("loaded")?(ce(),De("div",Fg,[ye(a),ye(c)])):wn("",!0)]),_:1})}const Bg=Ke(Mg,[["render",Ug]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const gn=typeof window<"u";function qg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ve=Object.assign;function ai(t,e){const n={};for(const r in e){const s=e[r];n[r]=ht(s)?s.map(t):t(s)}return n}const ir=()=>{},ht=Array.isArray,Hg=/\/$/,zg=t=>t.replace(Hg,"");function ci(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Gg(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function Kg(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Wa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Vg(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Cn(e.matched[r],n.matched[s])&&nu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Cn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Jg(t[n],e[n]))return!1;return!0}function Jg(t,e){return ht(t)?Ya(t,e):ht(e)?Ya(e,t):t===e}function Ya(t,e){return ht(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Gg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Sr;(function(t){t.pop="pop",t.push="push"})(Sr||(Sr={}));var or;(function(t){t.back="back",t.forward="forward",t.unknown=""})(or||(or={}));function Wg(t){if(!t)if(gn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),zg(t)}const Yg=/^[^#]+#/;function Qg(t,e){return t.replace(Yg,"#")+e}function Xg(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ks=()=>({left:window.pageXOffset,top:window.pageYOffset});function Zg(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Xg(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Qa(t,e){return(history.state?history.state.position-e:-1)+t}const Ui=new Map;function em(t,e){Ui.set(t,e)}function tm(t){const e=Ui.get(t);return Ui.delete(t),e}let nm=()=>location.protocol+"//"+location.host;function ru(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Wa(c,"")}return Wa(n,t)+r+s}function rm(t,e,n,r){let s=[],i=[],o=null;const a=({state:h})=>{const d=ru(t,location),v=n.value,m=e.value;let S=0;if(h){if(n.value=d,e.value=h,o&&o===v){o=null;return}S=m?h.position-m.position:0}else r(d);s.forEach(y=>{y(n.value,v,{delta:S,type:Sr.pop,direction:S?S>0?or.forward:or.back:or.unknown})})};function c(){o=n.value}function l(h){s.push(h);const d=()=>{const v=s.indexOf(h);v>-1&&s.splice(v,1)};return i.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(ve({},h.state,{scroll:Ks()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function Xa(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ks():null}}function sm(t){const{history:e,location:n}=window,r={value:ru(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:nm()+t+c;try{e[u?"replaceState":"pushState"](l,"",h),s.value=l}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function o(c,l){const u=ve({},e.state,Xa(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=ve({},s.value,e.state,{forward:c,scroll:Ks()});i(u.current,u,!0);const f=ve({},Xa(r.value,c,null),{position:u.position+1},l);i(c,f,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function im(t){t=Wg(t);const e=sm(t),n=rm(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ve({location:"",base:t,go:r,createHref:Qg.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function om(t){return typeof t=="string"||t&&typeof t=="object"}function su(t){return typeof t=="string"||typeof t=="symbol"}const $t={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},iu=Symbol("");var Za;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Za||(Za={}));function An(t,e){return ve(new Error,{type:t,[iu]:!0},e)}function _t(t,e){return t instanceof Error&&iu in t&&(e==null||!!(t.type&e))}const ec="[^/]+?",am={sensitive:!1,strict:!1,start:!0,end:!0},cm=/[.+*?^${}()[\]/\\]/g;function lm(t,e){const n=ve({},am,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const h=l[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(s+="/"),s+=h.value.replace(cm,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:m,optional:S,regexp:y}=h;i.push({name:v,repeatable:m,optional:S});const _=y||ec;if(_!==ec){d+=10;try{new RegExp(`(${_})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${v}" (${_}): `+E.message)}}let x=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(x=S&&l.length<2?`(?:/${x})`:"/"+x),S&&(x+="?"),s+=x,d+=20,S&&(d+=-8),m&&(d+=-20),_===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",v=i[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function c(l){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:v,repeatable:m,optional:S}=d,y=v in l?l[v]:"";if(ht(y)&&!m)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const _=ht(y)?y.join("/"):y;if(!_)if(S)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=_}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function um(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function fm(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=um(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(tc(r))return 1;if(tc(s))return-1}return s.length-r.length}function tc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hm={type:0,value:""},dm=/[a-zA-Z0-9_]/;function pm(t){if(!t)return[[]];if(t==="/")return[[hm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${l}": ${d}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:c==="("?n=2:dm.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function vm(t,e,n){const r=lm(pm(t.path),n),s=ve(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function gm(t,e){const n=[],r=new Map;e=sc({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,f,h){const d=!h,v=mm(u);v.aliasOf=h&&h.record;const m=sc(e,u),S=[v];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of x)S.push(ve({},v,{components:h?h.record.components:v.components,path:E,aliasOf:h?h.record:v}))}let y,_;for(const x of S){const{path:E}=x;if(f&&E[0]!=="/"){const D=f.record.path,V=D[D.length-1]==="/"?"":"/";x.path=f.record.path+(E&&V+E)}if(y=vm(x,f,m),h?h.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),d&&u.name&&!rc(y)&&o(u.name)),v.children){const D=v.children;for(let V=0;V<D.length;V++)i(D[V],y,h&&h.children[V])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&c(y)}return _?()=>{o(_)}:ir}function o(u){if(su(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let f=0;for(;f<n.length&&fm(u,n[f])>=0&&(u.record.path!==n[f].record.path||!ou(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!rc(u)&&r.set(u.record.name,u)}function l(u,f){let h,d={},v,m;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw An(1,{location:u});m=h.record.name,d=ve(nc(f.params,h.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&nc(u.params,h.keys.map(_=>_.name))),v=h.stringify(d)}else if("path"in u)v=u.path,h=n.find(_=>_.re.test(v)),h&&(d=h.parse(v),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(_=>_.re.test(f.path)),!h)throw An(1,{location:u,currentLocation:f});m=h.record.name,d=ve({},f.params,u.params),v=h.stringify(d)}const S=[];let y=h;for(;y;)S.unshift(y.record),y=y.parent;return{name:m,path:v,params:d,matched:S,meta:_m(S)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function nc(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function mm(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ym(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function ym(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function rc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _m(t){return t.reduce((e,n)=>ve(e,n.meta),{})}function sc(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ou(t,e){return e.children.some(n=>n===t||ou(t,n))}const au=/#/g,bm=/&/g,wm=/\//g,Sm=/=/g,Em=/\?/g,cu=/\+/g,xm=/%5B/g,Tm=/%5D/g,lu=/%5E/g,Om=/%60/g,uu=/%7B/g,Cm=/%7C/g,fu=/%7D/g,Am=/%20/g;function $o(t){return encodeURI(""+t).replace(Cm,"|").replace(xm,"[").replace(Tm,"]")}function Rm(t){return $o(t).replace(uu,"{").replace(fu,"}").replace(lu,"^")}function Bi(t){return $o(t).replace(cu,"%2B").replace(Am,"+").replace(au,"%23").replace(bm,"%26").replace(Om,"`").replace(uu,"{").replace(fu,"}").replace(lu,"^")}function $m(t){return Bi(t).replace(Sm,"%3D")}function km(t){return $o(t).replace(au,"%23").replace(Em,"%3F")}function Pm(t){return t==null?"":km(t).replace(wm,"%2F")}function ys(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Im(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(cu," "),o=i.indexOf("="),a=ys(o<0?i:i.slice(0,o)),c=o<0?null:ys(i.slice(o+1));if(a in e){let l=e[a];ht(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function ic(t){let e="";for(let n in t){const r=t[n];if(n=$m(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ht(r)?r.map(i=>i&&Bi(i)):[r&&Bi(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function jm(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ht(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Lm=Symbol(""),oc=Symbol(""),ko=Symbol(""),hu=Symbol(""),qi=Symbol("");function Un(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Lt(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(An(4,{from:n,to:e})):f instanceof Error?a(f):om(f)?a(An(2,{from:e,to:f})):(i&&r.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(f=>a(f))})}function li(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(Dm(a)){const l=(a.__vccOpts||a)[e];l&&s.push(Lt(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=qg(l)?l.default:l;i.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Lt(h,n,r,i,o)()}))}}return s}function Dm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ac(t){const e=mt(ko),n=mt(hu),r=fe(()=>e.resolve(_n(t.to))),s=fe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Cn.bind(null,u));if(h>-1)return h;const d=cc(c[l-2]);return l>1&&cc(u)===d&&f[f.length-1].path!==d?f.findIndex(Cn.bind(null,c[l-2])):h}),i=fe(()=>s.value>-1&&Um(n.params,r.value.params)),o=fe(()=>s.value>-1&&s.value===n.matched.length-1&&nu(n.params,r.value.params));function a(c={}){return Fm(c)?e[_n(t.replace)?"replace":"push"](_n(t.to)).catch(ir):Promise.resolve()}return{route:r,href:fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Nm=Gc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ac,setup(t,{slots:e}){const n=Tr(ac(t)),{options:r}=mt(ko),s=fe(()=>({[lc(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lc(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:vo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Mm=Nm;function Fm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Um(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ht(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function cc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lc=(t,e,n)=>t??e??n,Bm=Gc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=mt(qi),s=fe(()=>t.route||r.value),i=mt(oc,0),o=fe(()=>{let l=_n(i);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=fe(()=>s.value.matched[o.value]);Qr(oc,fe(()=>o.value+1)),Qr(Lm,a),Qr(qi,s);const c=sn();return Wn(()=>[c.value,a.value,t.name],([l,u,f],[h,d,v])=>{u&&(u.instances[f]=l,d&&d!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!Cn(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return uc(n.default,{Component:h,route:l});const d=f.props[u],v=d?d===!0?l.params:typeof d=="function"?d(l):d:null,S=vo(h,ve({},v,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return uc(n.default,{Component:S,route:l})||S}}});function uc(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const qm=Bm;function Hm(t){const e=gm(t.routes,t),n=t.parseQuery||Im,r=t.stringifyQuery||ic,s=t.history,i=Un(),o=Un(),a=Un(),c=Lc($t);let l=$t;gn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ai.bind(null,O=>""+O),f=ai.bind(null,Pm),h=ai.bind(null,ys);function d(O,z){let U,W;return su(O)?(U=e.getRecordMatcher(O),W=z):W=O,e.addRoute(W,U)}function v(O){const z=e.getRecordMatcher(O);z&&e.removeRoute(z)}function m(){return e.getRoutes().map(O=>O.record)}function S(O){return!!e.getRecordMatcher(O)}function y(O,z){if(z=ve({},z||c.value),typeof O=="string"){const b=ci(n,O,z.path),T=e.resolve({path:b.path},z),A=s.createHref(b.fullPath);return ve(b,T,{params:h(T.params),hash:ys(b.hash),redirectedFrom:void 0,href:A})}let U;if("path"in O)U=ve({},O,{path:ci(n,O.path,z.path).path});else{const b=ve({},O.params);for(const T in b)b[T]==null&&delete b[T];U=ve({},O,{params:f(b)}),z.params=f(z.params)}const W=e.resolve(U,z),de=O.hash||"";W.params=u(h(W.params));const p=Kg(r,ve({},O,{hash:Rm(de),path:W.path})),g=s.createHref(p);return ve({fullPath:p,hash:de,query:r===ic?jm(O.query):O.query||{}},W,{redirectedFrom:void 0,href:g})}function _(O){return typeof O=="string"?ci(n,O,c.value.path):ve({},O)}function x(O,z){if(l!==O)return An(8,{from:z,to:O})}function E(O){return q(O)}function D(O){return E(ve(_(O),{replace:!0}))}function V(O){const z=O.matched[O.matched.length-1];if(z&&z.redirect){const{redirect:U}=z;let W=typeof U=="function"?U(O):U;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=_(W):{path:W},W.params={}),ve({query:O.query,hash:O.hash,params:"path"in W?{}:O.params},W)}}function q(O,z){const U=l=y(O),W=c.value,de=O.state,p=O.force,g=O.replace===!0,b=V(U);if(b)return q(ve(_(b),{state:typeof b=="object"?ve({},de,b.state):de,force:p,replace:g}),z||U);const T=U;T.redirectedFrom=z;let A;return!p&&Vg(r,W,U)&&(A=An(16,{to:T,from:W}),ge(W,W,!0,!1)),(A?Promise.resolve(A):H(T,W)).catch($=>_t($)?_t($,2)?$:Me($):J($,T,W)).then($=>{if($){if(_t($,2))return q(ve({replace:g},_($.to),{state:typeof $.to=="object"?ve({},de,$.to.state):de,force:p}),z||T)}else $=P(T,W,!0,g,de);return L(T,W,$),$})}function C(O,z){const U=x(O,z);return U?Promise.reject(U):Promise.resolve()}function k(O){const z=Ie.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(O):O()}function H(O,z){let U;const[W,de,p]=zm(O,z);U=li(W.reverse(),"beforeRouteLeave",O,z);for(const b of W)b.leaveGuards.forEach(T=>{U.push(Lt(T,O,z))});const g=C.bind(null,O,z);return U.push(g),Fe(U).then(()=>{U=[];for(const b of i.list())U.push(Lt(b,O,z));return U.push(g),Fe(U)}).then(()=>{U=li(de,"beforeRouteUpdate",O,z);for(const b of de)b.updateGuards.forEach(T=>{U.push(Lt(T,O,z))});return U.push(g),Fe(U)}).then(()=>{U=[];for(const b of p)if(b.beforeEnter)if(ht(b.beforeEnter))for(const T of b.beforeEnter)U.push(Lt(T,O,z));else U.push(Lt(b.beforeEnter,O,z));return U.push(g),Fe(U)}).then(()=>(O.matched.forEach(b=>b.enterCallbacks={}),U=li(p,"beforeRouteEnter",O,z),U.push(g),Fe(U))).then(()=>{U=[];for(const b of o.list())U.push(Lt(b,O,z));return U.push(g),Fe(U)}).catch(b=>_t(b,8)?b:Promise.reject(b))}function L(O,z,U){a.list().forEach(W=>k(()=>W(O,z,U)))}function P(O,z,U,W,de){const p=x(O,z);if(p)return p;const g=z===$t,b=gn?history.state:{};U&&(W||g?s.replace(O.fullPath,ve({scroll:g&&b&&b.scroll},de)):s.push(O.fullPath,de)),c.value=O,ge(O,z,U,g),Me()}let Z;function w(){Z||(Z=s.listen((O,z,U)=>{if(!it.listening)return;const W=y(O),de=V(W);if(de){q(ve(de,{replace:!0}),W).catch(ir);return}l=W;const p=c.value;gn&&em(Qa(p.fullPath,U.delta),Ks()),H(W,p).catch(g=>_t(g,12)?g:_t(g,2)?(q(g.to,W).then(b=>{_t(b,20)&&!U.delta&&U.type===Sr.pop&&s.go(-1,!1)}).catch(ir),Promise.reject()):(U.delta&&s.go(-U.delta,!1),J(g,W,p))).then(g=>{g=g||P(W,p,!1),g&&(U.delta&&!_t(g,8)?s.go(-U.delta,!1):U.type===Sr.pop&&_t(g,20)&&s.go(-1,!1)),L(W,p,g)}).catch(ir)}))}let R=Un(),N=Un(),G;function J(O,z,U){Me(O);const W=N.list();return W.length?W.forEach(de=>de(O,z,U)):console.error(O),Promise.reject(O)}function ee(){return G&&c.value!==$t?Promise.resolve():new Promise((O,z)=>{R.add([O,z])})}function Me(O){return G||(G=!O,w(),R.list().forEach(([z,U])=>O?U(O):z()),R.reset()),O}function ge(O,z,U,W){const{scrollBehavior:de}=t;if(!gn||!de)return Promise.resolve();const p=!U&&tm(Qa(O.fullPath,0))||(W||!U)&&history.state&&history.state.scroll||null;return to().then(()=>de(O,z,p)).then(g=>g&&Zg(g)).catch(g=>J(g,O,z))}const $e=O=>s.go(O);let Ot;const Ie=new Set,it={currentRoute:c,listening:!0,addRoute:d,removeRoute:v,hasRoute:S,getRoutes:m,resolve:y,options:t,push:E,replace:D,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:N.add,isReady:ee,install(O){const z=this;O.component("RouterLink",Mm),O.component("RouterView",qm),O.config.globalProperties.$router=z,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>_n(c)}),gn&&!Ot&&c.value===$t&&(Ot=!0,E(s.location).catch(de=>{}));const U={};for(const de in $t)Object.defineProperty(U,de,{get:()=>c.value[de],enumerable:!0});O.provide(ko,z),O.provide(hu,$c(U)),O.provide(qi,c);const W=O.unmount;Ie.add(O),O.unmount=function(){Ie.delete(O),Ie.size<1&&(l=$t,Z&&Z(),Z=null,c.value=$t,Ot=!1,G=!1),W()}}};function Fe(O){return O.reduce((z,U)=>z.then(()=>k(U)),Promise.resolve())}return it}function zm(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Cn(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Cn(l,c))||s.push(c))}return[n,r,s]}const Km=()=>qe(()=>import("./CoachDetails-c655dd9a.js"),["assets/CoachDetails-c655dd9a.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/CoachRatePoint-f412f650.js","assets/CoachRatePoint-4b78eb4f.css","assets/CoachAreasList-fbf6276e.js","assets/CoachAreasList-d1722eff.css","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachDetails-c947f8a8.css"]),Vm=()=>qe(()=>import("./CoachList-eae2c1f2.js"),["assets/CoachList-eae2c1f2.js","assets/CoachAreasList-fbf6276e.js","assets/CoachAreasList-d1722eff.css","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachList-4ce2e26a.css"]),Jm=()=>qe(()=>import("./CoachRegistration-283dac4e.js"),["assets/CoachRegistration-283dac4e.js","assets/sendingMachine-1e298bbc.js","assets/CoachRegistration-8fcc8056.css"]),Gm=()=>qe(()=>import("./NotFound-318e5610.js"),["assets/NotFound-318e5610.js","assets/NotFound-a402c291.css"]),Wm=()=>qe(()=>import("./NoPermissions-bb80e2e4.js"),["assets/NoPermissions-bb80e2e4.js","assets/NoPermissions-38bb2851.css"]),Ym=()=>qe(()=>import("./CoachContact-ed00a258.js"),["assets/CoachContact-ed00a258.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/CoachWrapperHeader-e71b663c.js","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachWrapperHeader-0b4d16fe.css","assets/CoachContact-212f17a4.css"]),Qm=()=>qe(()=>import("./CoachReviews-1f3d6884.js"),["assets/CoachReviews-1f3d6884.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/CoachRatePoint-f412f650.js","assets/CoachRatePoint-4b78eb4f.css","assets/UserAvatar-984d34a2.js","assets/UserAvatar-32150879.css","assets/CoachWrapperHeader-e71b663c.js","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachWrapperHeader-0b4d16fe.css","assets/CoachReviews-42710317.css"]),Xm=()=>qe(()=>import("./RequestsReceived-16df7c6e.js"),["assets/RequestsReceived-16df7c6e.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/UserAvatar-984d34a2.js","assets/UserAvatar-32150879.css","assets/RequestsReceived-7814d324.css"]),Zm=()=>qe(()=>import("./CoachWrapper-e999d983.js"),[]),ey=()=>qe(()=>import("./CoachAddReview-a5f38c17.js"),["assets/CoachAddReview-a5f38c17.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/CoachAddReviewForm-4317bef4.js","assets/CoachAddReviewForm-9b2b395e.css","assets/CoachWrapperHeader-e71b663c.js","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachWrapperHeader-0b4d16fe.css","assets/sendingMachine-1e298bbc.js","assets/CoachAddReview-981ea6f2.css"]),ty=()=>qe(()=>import("./CoachEditReview-3c38f223.js"),["assets/CoachEditReview-3c38f223.js","assets/NotFound-318e5610.js","assets/NotFound-a402c291.css","assets/CoachAddReviewForm-4317bef4.js","assets/CoachAddReviewForm-9b2b395e.css","assets/CoachWrapperHeader-e71b663c.js","assets/CoachAvatar-5a218491.js","assets/CoachAvatar-a0f5ca9a.css","assets/CoachWrapperHeader-0b4d16fe.css","assets/sendingMachine-1e298bbc.js","assets/CoachEditReview-314df022.css"]),ny=()=>qe(()=>import("./UserEditProfile-9c007956.js"),[]),ry=[{name:"home",path:"/",redirect:"/coaches"},{name:"coaches",path:"/coaches",component:Vm,children:[{name:"coach",path:"/coach",redirect:"/coaches",meta:{isDialog:!0},component:Zm,children:[{name:"details",path:":id",component:Km,props:!0},{name:"contact",path:":id/contact",component:Ym,props:!0},{name:"reviews",path:":id/reviews",component:Qm,props:!0},{name:"edit-review",path:":id/reviews/edit-review/:reviewId",component:ty,props:!0},{name:"add-review",path:":id/add-review",component:ey,props:!0}]}]},{name:"register-coach",path:"/become-a-coach",component:Jm},{name:"requests",path:"/your-requests",component:Xm},{name:"edit-profile",path:"/edit-profile",component:ny},{name:"no-permissions",component:Wm,path:"/no-permissions"},{name:"not-found",path:"/:notFound(.*)",component:Gm,props:{element:"Page"}}],sy=Hm({history:im("findACoach"),routes:ry}),iy=vd(),oy={viewBox:"0 0 24 24",width:"2em",height:"2em"},ay=Ce("path",{fill:"currentColor",d:"m9.55 12l7.35 7.35q.375.375.363.875t-.388.875q-.375.375-.875.375t-.875-.375l-7.7-7.675q-.3-.3-.45-.675t-.15-.75q0-.375.15-.75t.45-.675l7.7-7.7q.375-.375.888-.363t.887.388q.375.375.375.875t-.375.875L9.55 12Z"},null,-1),cy=[ay];function ly(t,e){return ce(),De("svg",oy,cy)}const uy={name:"material-symbols-arrow-back-ios-new-rounded",render:ly},fy={viewBox:"0 0 24 24",width:"2em",height:"2em"},hy=Ce("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275q-.275-.275-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7q.275-.275.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275L12 13.4Z"},null,-1),dy=[hy];function py(t,e){return ce(),De("svg",fy,dy)}const vy={name:"material-symbols-close-rounded",render:py},gy={name:"BaseDialog",props:{returnTo:{type:[String,Object],required:!0},iconType:{type:String,default:"close"}},methods:{backdropClick(t){const e=this.dialog.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&this.hideDialog()},hideDialog(){this.$router.push(this.returnTo),this.dialog.close()},historyBack(){this.$router.go(-1)},showDialog(){this.dialog.showModal()}},computed:{dialog(){return this.$refs.dialog},body(){return document.querySelector("body")},closeIcon(){return this.iconType==="close"},returnIcon(){return this.iconType==="return"}},mounted(){this.showDialog(),this.body.classList.add("hidden-overflow"),this.dialog.addEventListener("mousedown",this.backdropClick),this.dialog.addEventListener("close",this.hideDialog)},unmounted(){this.body.classList.remove("hidden-overflow")}};const my={ref:"dialog",class:"base-dialog"},yy={class:"nav"};function _y(t,e,n,r,s,i){const o=vy,a=Ar,c=uy;return ce(),ze(rh,{to:"body"},[Ce("dialog",my,[Ce("div",yy,[i.closeIcon?(ce(),ze(a,{key:0,mode:"flat rounded square",onClick:i.hideDialog},{default:Xe(()=>[ye(o)]),_:1},8,["onClick"])):i.returnIcon?(ce(),ze(a,{key:1,mode:"flat rounded square",onClick:i.historyBack},{default:Xe(()=>[ye(c)]),_:1},8,["onClick"])):wn("",!0)]),zt(t.$slots,"default",{},void 0,!0)],512)])}const by=Ke(gy,[["render",_y],["__scopeId","data-v-17aa1d7a"]]),wy={name:"BaseWrapper"};const Sy={class:"base-wrapper"};function Ey(t,e,n,r,s,i){return ce(),De("div",Sy,[zt(t.$slots,"default",{},void 0,!0)])}const xy=Ke(wy,[["render",Ey],["__scopeId","data-v-dd099746"]]),Ty={name:"BaseThrottleButton",emits:["click"],data:()=>({isAbleToReload:!0,timeout:2e3}),methods:{throttleCall(){this.isAbleToReload&&(this.$emit("click"),this.isAbleToReload=!1,setTimeout(()=>{this.isAbleToReload=!0},this.timeout))}}};function Oy(t,e,n,r,s,i){const o=Ar;return ce(),ze(o,{type:"button",disabled:!t.isAbleToReload,onClick:i.throttleCall},{default:Xe(()=>[zt(t.$slots,"default",{},void 0,!0)]),_:3},8,["disabled","onClick"])}const Cy=Ke(Ty,[["render",Oy],["__scopeId","data-v-c7869c17"]]),Ay={name:"BaseError"};const Ry=t=>(Or("data-v-6fa09c65"),t=t(),Cr(),t),$y={class:"base-error"},ky=Ry(()=>Ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[Ce("path",{d:"M12 17q.425 0 .713-.288T13 16q0-.425-.288-.713T12 15q-.425 0-.713.288T11 16q0 .425.288.713T12 17Zm0 5q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Zm0-9q.425 0 .713-.288T13 12V8q0-.425-.288-.713T12 7q-.425 0-.713.288T11 8v4q0 .425.288.713T12 13Z"})],-1));function Py(t,e,n,r,s,i){return ce(),De("div",$y,[ky,zt(t.$slots,"default",{},void 0,!0)])}const Iy=Ke(Ay,[["render",Py],["__scopeId","data-v-6fa09c65"]]),jy={name:"SvgSpinnersRingResize"};const Ly=t=>(Or("data-v-73313077"),t=t(),Cr(),t),Dy={xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"},Ny=Ly(()=>Ce("g",{stroke:"currentColor"},[Ce("circle",{cx:"12",cy:"12",r:"9.5",fill:"none",strokeLinecap:"round",strokeWidth:"3"},[Ce("animate",{attributeName:"stroke-dasharray",calcMode:"spline",dur:"1.5s",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1",keyTimes:"0;0.475;0.95;1",repeatCount:"indefinite",values:"0 150;42 150;42 150;42 150"}),Ce("animate",{attributeName:"stroke-dashoffset",calcMode:"spline",dur:"1.5s",keySplines:"0.42,0,0.58,1;0.42,0,0.58,1;0.42,0,0.58,1",keyTimes:"0;0.475;0.95;1",repeatCount:"indefinite",values:"0;-16;-59;-59"})]),Ce("animateTransform",{attributeName:"transform",dur:"2s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)),My=[Ny];function Fy(t,e,n,r,s,i){return ce(),De("svg",Dy,My)}const du=Ke(jy,[["render",Fy],["__scopeId","data-v-73313077"]]),Uy={viewBox:"0 0 24 24",width:"2em",height:"2em"},By=Ce("path",{fill:"currentColor",d:"m19.8 12.925l-15.4 6.5q-.5.2-.95-.088T3 18.5v-13q0-.55.45-.838t.95-.087l15.4 6.5q.625.275.625.925t-.625.925ZM5 17l11.85-5L5 7v3.5l6 1.5l-6 1.5V17Zm0 0V7v10Z"},null,-1),qy=[By];function Hy(t,e){return ce(),De("svg",Uy,qy)}const zy={name:"material-symbols-send-outline-rounded",render:Hy},Ky={name:"BaseSubmitButton",props:{isValid:{type:Boolean,required:!0},state:{type:String,default:"empty"}},data:()=>({shake:!1,timing:300}),methods:{toggleShake(){requestAnimationFrame(()=>{this.isValid||(this.shake=!0,setTimeout(()=>{this.shake=!1},this.timing))})}},computed:{shakeClass(){return this.shake?"shake":""}},components:{SvgSpinnersRingResize:du}};const Vy=t=>(Or("data-v-23a39837"),t=t(),Cr(),t),Jy=Vy(()=>Ce("span",null,"Send",-1));function Gy(t,e,n,r,s,i){const o=zy,a=du;return ce(),De("button",{onClick:e[0]||(e[0]=(...c)=>i.toggleShake&&i.toggleShake(...c)),type:"submit",class:xt(`submit ${i.shakeClass}`),style:xr({animationDuration:t.timing+"ms"})},[n.state==="empty"?(ce(),De(Je,{key:0},[Jy,ye(o,{height:"1.5em"})],64)):n.state==="sending"?(ce(),ze(a,{key:1})):wn("",!0)],6)}const Wy=Ke(Ky,[["render",Gy],["__scopeId","data-v-23a39837"]]),Yy={name:"BaseSuccess"};const Qy=t=>(Or("data-v-b4c6cbeb"),t=t(),Cr(),t),Xy={class:"success-animation"},Zy=Qy(()=>Ce("svg",{class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},[Ce("circle",{class:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Ce("path",{class:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})],-1));function e_(t,e,n,r,s,i){return ce(),De("div",Xy,[Zy,zt(t.$slots,"default",{},void 0,!0)])}const t_=Ke(Yy,[["render",e_],["__scopeId","data-v-b4c6cbeb"]]),st=Qh(Bg);st.use(iy);st.use(sy);st.component("BaseButton",Ar);st.component("BaseDialog",by);st.component("BaseDrodownMenu",go);st.component("BaseError",Iy);st.component("BaseRouterLink",wl);st.component("BaseSubmitButton",Wy);st.component("BaseSuccess",t_);st.component("BaseThrottleButton",Cy);st.component("BaseWrapper",xy);st.mount("#app");export{n_ as A,oh as B,i_ as C,ch as D,c_ as E,Je as F,d_ as G,h_ as H,xt as I,Wy as J,u_ as K,Hs as L,_r as M,Ar as N,Dg as O,by as P,kd as Q,qm as R,t_ as S,js as T,Iy as U,dg as V,du as _,Ke as a,ye as b,De as c,Ce as d,Lg as e,Ro as f,ze as g,es as h,wn as i,wl as j,Cr as k,ah as l,xy as m,s_ as n,ce as o,Or as p,ao as q,a_ as r,l_ as s,r_ as t,Ng as u,f_ as v,Xe as w,Cy as x,o_ as y,zt as z};
